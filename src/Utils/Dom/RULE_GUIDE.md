# é€‰æ‹©å™¨è§„åˆ™è¯´æ˜Žæ–‡æ¡£

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜Žäº† zxf/utils Dom æ”¯æŒçš„æ‰€æœ‰ CSS é€‰æ‹©å™¨ã€XPath é€‰æ‹©å™¨å’Œç‰¹æ®Šé€‰æ‹©å™¨çš„ä½¿ç”¨æ–¹æ³•ã€‚

## ç›®å½•

- [é€‰æ‹©å™¨æ•°ç»„å›žé€€æŸ¥æ‰¾](#é€‰æ‹©å™¨æ•°ç»„å›žé€€æŸ¥æ‰¾)
- [CSS åŸºç¡€é€‰æ‹©å™¨](#css-åŸºç¡€é€‰æ‹©å™¨)
- [CSS å±žæ€§é€‰æ‹©å™¨](#css-å±žæ€§é€‰æ‹©å™¨)
- [CSS ç»„åˆé€‰æ‹©å™¨](#css-ç»„åˆé€‰æ‹©å™¨)
- [CSS ç»“æž„ä¼ªç±»](#css-ç»“æž„ä¼ªç±»)
- [CSS å†…å®¹ä¼ªç±»](#css-å†…å®¹ä¼ªç±»)
- [CSS è¡¨å•ä¼ªç±»](#css-è¡¨å•ä¼ªç±»)
- [CSS è¡¨å•å…ƒç´ ä¼ªç±»](#css-è¡¨å•å…ƒç´ ä¼ªç±»)
- [CSS HTML å…ƒç´ ä¼ªç±»](#css-html-å…ƒç´ ä¼ªç±»)
- [CSS ä½ç½®ä¼ªç±»](#css-ä½ç½®ä¼ªç±»)
- [CSS å¯è§æ€§ä¼ªç±»](#css-å¯è§æ€§ä¼ªç±»)
- [CSS ä¼ªå…ƒç´ ](#css-ä¼ªå…ƒç´ )
- [XPath é€‰æ‹©å™¨](#xpath-é€‰æ‹©å™¨)
- [å…¨è·¯å¾„é€‰æ‹©å™¨è¯¦è§£](#å…¨è·¯å¾„é€‰æ‹©å™¨è¯¦è§£)
- [ç‰¹æ®Šé€‰æ‹©å™¨](#ç‰¹æ®Šé€‰æ‹©å™¨)

---


## é€‰æ‹©å™¨æ•°ç»„å›žé€€æŸ¥æ‰¾

é€‰æ‹©å™¨æ•°ç»„å›žé€€æŸ¥æ‰¾æ˜¯ä¸€é¡¹å¼ºå¤§çš„åŠŸèƒ½ï¼Œå…è®¸æ‚¨ä¼ å…¥å¤šä¸ªé€‰æ‹©å™¨ï¼Œç³»ç»Ÿä¼šæŒ‰é¡ºåºå°è¯•ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªéžç©ºç»“æžœå³è¿”å›žã€‚è¿™ä¸ºå¤„ç†ä¸åŒç»“æž„çš„ç½‘é¡µæä¾›äº†æžå¤§çš„çµæ´»æ€§ã€‚

### åŸºæœ¬è¯­æ³•

```php
$doc->findWithFallback([
    ['selector' => 'é€‰æ‹©å™¨1', 'type' => 'css', 'attribute' => null],
    ['selector' => 'é€‰æ‹©å™¨2', 'type' => 'xpath', 'attribute' => null],
    ['selector' => '/æ­£åˆ™è¡¨è¾¾å¼/', 'type' => 'regex', 'attribute' => 'href']
]);
```

### å‚æ•°è¯´æ˜Ž

| å‚æ•° | ç±»åž‹ | å¿…éœ€ | è¯´æ˜Ž |
|------|------|------|------|
| selector | string | æ˜¯ | é€‰æ‹©å™¨è¡¨è¾¾å¼ |
| type | string | å¦ | é€‰æ‹©å™¨ç±»åž‹ï¼š'css'ï¼ˆé»˜è®¤ï¼‰ã€'xpath'ã€'regex' |
| attribute | string | å¦ | ä»…å½“ type='regex' æ—¶ä½¿ç”¨ï¼ŒæŒ‡å®šè¦åŒ¹é…çš„å±žæ€§å |

### ä½¿ç”¨åœºæ™¯

#### 1. åº”å¯¹ä¸åŒç½‘é¡µç»“æž„

```php
// åœºæ™¯ï¼šä¸åŒç‰ˆæœ¬çš„ç½‘ç«™å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç»“æž„
$result = $doc->findWithFallback([
    // å°è¯•æ–°ç‰ˆç»“æž„
    ['selector' => 'div.main-content > h1.title'],
    // å›žé€€åˆ°æ—§ç‰ˆç»“æž„
    ['selector' => '#content > h1.article-title'],
    // æœ€åŽå°è¯•XPath
    ['selector' => '//h1[contains(@class, "title")]', 'type' => 'xpath']
]);
```

#### 2. æ··åˆä½¿ç”¨CSSå’ŒXPath

```php
// åœºæ™¯ï¼šæœ‰äº›é€‰æ‹©å™¨ç”¨CSSæ›´ç®€æ´ï¼Œæœ‰äº›ç”¨XPathæ›´å¼ºå¤§
$result = $doc->findWithFallback([
    // CSSé€‰æ‹©å™¨ï¼ˆç®€å•ç›´è§‚ï¼‰
    ['selector' => 'div.container .item.active'],
    // XPathé€‰æ‹©å™¨ï¼ˆåŠŸèƒ½å¼ºå¤§ï¼‰
    ['selector' => '//div[@class="container"]//div[contains(@class, "item") and contains(@class, "active")]', 'type' => 'xpath'],
    // å…¨è·¯å¾„ï¼ˆç²¾ç¡®å¿«é€Ÿï¼‰
    ['selector' => '/html/body/div[1]/div[2]/div[@class="item"]', 'type' => 'xpath']
]);
```

#### 3. ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºæœ€åŽå¤‡é€‰

```php
// åœºæ™¯ï¼šå½“ç»“æž„ä¸ç¡®å®šæ—¶ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å†…å®¹
$result = $doc->findWithFallback([
    ['selector' => '.date'],
    ['selector' => '[data-date]'],
    ['selector' => 'time'],
    // æœ€åŽä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾æ—¥æœŸæ ¼å¼
    ['selector' => '/\d{4}-\d{2}-\d{2}/', 'type' => 'regex']
]);
```

### findFirstWithFallback æ–¹æ³•

`findFirstWithFallback()` æ–¹æ³•æ˜¯ `findWithFallback()` çš„ä¾¿æ·ç‰ˆæœ¬ï¼Œåªè¿”å›žç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ï¼š

```php
$element = $doc->findFirstWithFallback([
    ['selector' => '.main-title'],
    ['selector' => 'h1.title'],
    ['selector' => '//h1[1]', 'type' => 'xpath']
]);

if ($element !== null) {
    echo $element->text();
}
```

### æ€§èƒ½è€ƒè™‘

1. **æŒ‰ä¼˜å…ˆçº§æŽ’åˆ—é€‰æ‹©å™¨**ï¼šå°†æœ€å¯èƒ½åŒ¹é…çš„é€‰æ‹©å™¨æ”¾åœ¨å‰é¢
2. **ä½¿ç”¨æ›´å…·ä½“çš„é€‰æ‹©å™¨**ï¼šé¿å…è¿‡äºŽå®½æ³›çš„é€‰æ‹©å™¨
3. **ä¼˜å…ˆä½¿ç”¨CSSé€‰æ‹©å™¨**ï¼šCSSé€‰æ‹©å™¨é€šå¸¸æ¯”XPathæ›´é«˜æ•ˆ
4. **é¿å…è¿‡å¤šçš„å¤‡é€‰æ–¹æ¡ˆ**ï¼š3-5ä¸ªé€‰æ‹©å™¨ä¸ºå®œ

### é”™è¯¯å¤„ç†

å¦‚æžœæ‰€æœ‰é€‰æ‹©å™¨éƒ½æœªæ‰¾åˆ°ç»“æžœï¼Œ`findWithFallback()` è¿”å›žç©ºæ•°ç»„ï¼Œ`findFirstWithFallback()` è¿”å›ž nullã€‚ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

### æ™ºèƒ½é€‰æ‹©å™¨ç±»åž‹æ£€æµ‹

åº“æä¾›äº† `Query::detectSelectorType()` æ–¹æ³•æ¥æ™ºèƒ½è¯†åˆ«é€‰æ‹©å™¨ç±»åž‹ï¼š

```php
// è‡ªåŠ¨æ£€æµ‹CSSé€‰æ‹©å™¨
$type = Query::detectSelectorType('div.container');  // è¿”å›ž 'css'

// è‡ªåŠ¨æ£€æµ‹XPathé€‰æ‹©å™¨
$type = Query::detectSelectorType('//div[@class="item"]');  // è¿”å›ž 'xpath'
$type = Query::detectSelectorType('/html/body/div');        // è¿”å›ž 'xpath'

// è‡ªåŠ¨æ£€æµ‹æ­£åˆ™è¡¨è¾¾å¼
$type = Query::detectSelectorType('/\d{4}-\d{2}-\d{2}/');  // è¿”å›ž 'regex'
```

è¿˜å¯ä»¥ä½¿ç”¨å…·ä½“çš„æ£€æµ‹æ–¹æ³•ï¼š

```php
// æ£€æµ‹æ˜¯å¦ä¸ºXPathç»å¯¹è·¯å¾„
$isAbsolute = Query::isXPathAbsolute('/html/body/div');     // true
$isAbsolute = Query::isXPathAbsolute('//div');               // false

// æ£€æµ‹æ˜¯å¦ä¸ºXPathç›¸å¯¹è·¯å¾„
$isRelative = Query::isXPathRelative('//div[@class="item"]'); // true
$isRelative = Query::isXPathRelative('/html/body');         // false
```

---

## ðŸ“Š æ‰€æœ‰æ”¯æŒçš„é€‰æ‹©å™¨æ€»è§ˆï¼ˆ150+ ç§ï¼‰

| é€‰æ‹©å™¨                               | ç±»åž‹          | å‚æ•°è¯´æ˜Ž                                      | ä½¿ç”¨ç¤ºä¾‹                                              | æè¿°                                                                                                                                    |
|-----------------------------------|-------------|-------------------------------------------|---------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| **ä¾¿æ·æŸ¥æ‰¾æ–¹æ³•**                        |
| `findWithFallback()`              | å›žé€€æŸ¥æ‰¾        | selectors: é€‰æ‹©å™¨æ•°ç»„                          | `$doc->findWithFallback([...])`                   | ä¼ å…¥å¤šä¸ªé€‰æ‹©å™¨ï¼ŒæŒ‰é¡ºåºå°è¯•ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªéžç©ºç»“æžœå³è¿”å›žã€‚æ”¯æŒæ··åˆä½¿ç”¨CSSã€XPathå’Œæ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©å™¨ã€‚é€‚ç”¨äºŽå¤„ç†ä¸åŒç»“æž„çš„ç½‘é¡µï¼Œæä¾›æžå¤§çš„çµæ´»æ€§ã€‚                                                            |
| `findFirstWithFallback()`         | å›žé€€æŸ¥æ‰¾é¦–ä¸ª      | selectors: é€‰æ‹©å™¨æ•°ç»„                          | `$doc->findFirstWithFallback([...])`              | `findWithFallback()` çš„ä¾¿æ·ç‰ˆæœ¬ï¼Œåªè¿”å›žç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚é€‚ç”¨äºŽåªéœ€è¦èŽ·å–å•ä¸ªåŒ¹é…å…ƒç´ çš„åœºæ™¯ã€‚                                                                             |
| `findByPath()`                    | è·¯å¾„æŸ¥æ‰¾        | path: è·¯å¾„è¡¨è¾¾å¼, relative: æ˜¯å¦ç›¸å¯¹è·¯å¾„             | `$doc->findByPath('/html/body/div')`              | æŒ‰è·¯å¾„è¡¨è¾¾å¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ”¯æŒç±»ä¼¼æ–‡ä»¶ç³»ç»Ÿçš„è·¯å¾„è¯­æ³•ã€‚æä¾›å®Œæ•´çš„å…¨è·¯å¾„é€‰æ‹©èƒ½åŠ›ï¼ŒåŒ…æ‹¬XPathç»å¯¹è·¯å¾„ã€ç›¸å¯¹è·¯å¾„å’ŒCSSè·¯å¾„ã€‚                                                                         |
| `findByText()`                    | æ–‡æœ¬æŸ¥æ‰¾        | text: æ–‡æœ¬å†…å®¹, context: ä¸Šä¸‹æ–‡èŠ‚ç‚¹                | `$doc->findByText('Hello')`                       | æŸ¥æ‰¾åŒ…å«æŒ‡å®šæ–‡æœ¬çš„å…ƒç´ ã€‚æœç´¢èŒƒå›´åŒ…æ‹¬å…ƒç´ è‡ªèº«å’Œæ‰€æœ‰å­å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚å¸¸ç”¨äºŽå¿«é€Ÿå®šä½åŒ…å«ç‰¹å®šå…³é”®è¯çš„å…ƒç´ ã€‚                                                                                  |
| `findByAttribute()`               | å±žæ€§æŸ¥æ‰¾        | attr: å±žæ€§å, value: å±žæ€§å€¼                     | `$doc->findByAttribute('href', 'https://')`       | æŸ¥æ‰¾å…·æœ‰æŒ‡å®šå±žæ€§æˆ–å±žæ€§å€¼çš„å…ƒç´ ã€‚å¦‚æžœåªæä¾›å±žæ€§åï¼Œåˆ™æŸ¥æ‰¾æ‰€æœ‰å…·æœ‰è¯¥å±žæ€§çš„å…ƒç´ ï¼›å¦‚æžœåŒæ—¶æä¾›å±žæ€§å€¼ï¼Œåˆ™æŸ¥æ‰¾å±žæ€§å€¼å®Œå…¨åŒ¹é…çš„å…ƒç´ ã€‚                                                                       |
| `findByAttributeContains()`       | å±žæ€§åŒ…å«æŸ¥æ‰¾      | attr: å±žæ€§å, value: åŒ…å«å€¼                     | `$doc->findByAttributeContains('class', 'nav')`   | æŸ¥æ‰¾å±žæ€§å€¼åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„å…ƒç´ ã€‚ä¸ŽCSSçš„ `[attr*=value]` é€‰æ‹©å™¨åŠŸèƒ½ç›¸åŒï¼Œä½†ä»¥æ–¹æ³•å½¢å¼æä¾›ï¼Œæ›´ç›´è§‚æ˜“ç”¨ã€‚                                                                         |
| `findByAttributeStartsWith()`     | å±žæ€§å‰ç¼€æŸ¥æ‰¾      | attr: å±žæ€§å, value: å‰ç¼€                      | `$doc->findByAttributeStartsWith('src', 'https')` | æŸ¥æ‰¾å±žæ€§å€¼ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´çš„å…ƒç´ ã€‚é€‚ç”¨äºŽæŸ¥æ‰¾ç‰¹å®šåè®®çš„é“¾æŽ¥ã€ç‰¹å®šå‰ç¼€çš„å›¾ç‰‡ç­‰ã€‚                                                                                               |
| `findByIndex()`                   | ç´¢å¼•æŸ¥æ‰¾        | selector: é€‰æ‹©å™¨, index: ç´¢å¼•                  | `$doc->findByIndex('.item', 2)`                   | æŸ¥æ‰¾åŒ¹é…é€‰æ‹©å™¨çš„å…ƒç´ é›†åˆä¸­æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´ ã€‚ç´¢å¼•ä»Ž0å¼€å§‹ï¼Œè´Ÿæ•°è¡¨ç¤ºä»ŽåŽå¾€å‰è®¡æ•°ï¼ˆ-1è¡¨ç¤ºæœ€åŽä¸€ä¸ªï¼‰ã€‚                                                                                   |
| `findLast()`                      | æŸ¥æ‰¾æœ€åŽä¸€ä¸ª      | selector: é€‰æ‹©å™¨                             | `$doc->findLast('.item')`                         | æŸ¥æ‰¾åŒ¹é…é€‰æ‹©å™¨çš„æ‰€æœ‰å…ƒç´ ä¸­çš„æœ€åŽä¸€ä¸ªå…ƒç´ ã€‚ç­‰åŒäºŽèŽ·å–ç»“æžœé›†çš„æœ€åŽä¸€ä¸ªå…ƒç´ ï¼Œè¯­æ³•æ›´ç®€æ´ã€‚                                                                                           |
| `findRange()`                     | èŒƒå›´æŸ¥æ‰¾        | selector: é€‰æ‹©å™¨, start: å¼€å§‹, end: ç»“æŸ         | `$doc->findRange('.item', 0, 5)`                  | æŸ¥æ‰¾åŒ¹é…é€‰æ‹©å™¨çš„å…ƒç´ é›†åˆä¸­æŒ‡å®šç´¢å¼•èŒƒå›´å†…çš„å…ƒç´ ã€‚è¿”å›žä»Žstartåˆ°endï¼ˆåŒ…å«ï¼‰ä¹‹é—´çš„æ‰€æœ‰å…ƒç´ ã€‚ç´¢å¼•ä»Ž0å¼€å§‹ã€‚                                                                               |
| **é€‰æ‹©å™¨ç±»åž‹æ£€æµ‹æ–¹æ³•**                     |
| `Query::detectSelectorType()`     | ç±»åž‹æ£€æµ‹        | selector: é€‰æ‹©å™¨è¡¨è¾¾å¼                          | `Query::detectSelectorType('div')`                | æ™ºèƒ½è¯†åˆ«é€‰æ‹©å™¨ç±»åž‹ï¼Œè¿”å›ž 'css'ã€'xpath' æˆ– 'regex'ã€‚å¯ä»¥è‡ªåŠ¨åŒºåˆ†CSSé€‰æ‹©å™¨ã€XPathè¡¨è¾¾å¼å’Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸ºå¼€å‘è€…æä¾›ä¾¿åˆ©çš„ç±»åž‹åˆ¤æ–­åŠŸèƒ½ã€‚                                                     |
| `Query::isXPathAbsolute()`        | XPathç»å¯¹è·¯å¾„æ£€æµ‹ | expression: XPathè¡¨è¾¾å¼                      | `Query::isXPathAbsolute('/html/body/div')`        | æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºXPathç»å¯¹è·¯å¾„ï¼ˆä»¥/å¼€å¤´ä½†ä¸æ˜¯//ï¼‰ã€‚XPathç»å¯¹è·¯å¾„ä»Žæ–‡æ¡£æ ¹å…ƒç´ å¼€å§‹ï¼Œæä¾›ç²¾ç¡®çš„å…ƒç´ å®šä½è·¯å¾„ã€‚                                                                           |
| `Query::isXPathRelative()`        | XPathç›¸å¯¹è·¯å¾„æ£€æµ‹ | expression: XPathè¡¨è¾¾å¼                      | `Query::isXPathRelative('//div')`                 | æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºXPathç›¸å¯¹è·¯å¾„ï¼ˆä»¥//å¼€å¤´ï¼‰ã€‚XPathç›¸å¯¹è·¯å¾„ä»Žæ–‡æ¡£ä¸­ä»»æ„ä½ç½®å¼€å§‹æŸ¥æ‰¾ï¼Œæä¾›æ›´çµæ´»çš„æŸ¥è¯¢æ–¹å¼ã€‚                                                                            |
| **XPathä¾¿æ·æ–¹æ³•**                     |
| `xpath()`                         | XPathæŸ¥è¯¢     | expression: XPathè¡¨è¾¾å¼                      | `$doc->xpath('//div[@class="item"]')`             | æ‰§è¡ŒXPathæŸ¥è¯¢ï¼Œè¿”å›žåŒ¹é…çš„å…ƒç´ æ•°ç»„ã€‚æ”¯æŒå®Œæ•´çš„XPath 1.0è¯­æ³•ï¼ŒåŒ…æ‹¬æ‰€æœ‰æ ‡å‡†å‡½æ•°ã€è½´å’ŒèŠ‚ç‚¹æµ‹è¯•ã€‚æä¾›æ¯”CSSæ›´å¼ºå¤§å’Œçµæ´»çš„æŸ¥è¯¢èƒ½åŠ›ã€‚                                                               |
| `xpathFirst()`                    | é¦–ä¸ªXPath     | expression: XPathè¡¨è¾¾å¼                      | `$doc->xpathFirst('//div[@class="item"]')`        | æ‰§è¡ŒXPathæŸ¥è¯¢å¹¶è¿”å›žç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚ç­‰åŒäºŽ `xpath()` çš„ä¾¿æ·ç‰ˆæœ¬ï¼Œé€‚ç”¨äºŽåªéœ€è¦èŽ·å–å•ä¸ªå…ƒç´ çš„åœºæ™¯ã€‚                                                                             |
| `xpathTexts()`                    | XPathæ–‡æœ¬     | expression: XPathè¡¨è¾¾å¼                      | `$doc->xpathTexts('//div/text()')`                | æ‰§è¡ŒXPathæŸ¥è¯¢å¹¶è¿”å›žåŒ¹é…å…ƒç´ çš„æ–‡æœ¬å†…å®¹æ•°ç»„ã€‚é€‚ç”¨äºŽå¿«é€Ÿæå–å¤šä¸ªå…ƒç´ çš„æ–‡æœ¬ã€‚                                                                                               |
| `xpathAttrs()`                    | XPathå±žæ€§     | expression: XPathè¡¨è¾¾å¼, attr: å±žæ€§å           | `$doc->xpathAttrs('//a', 'href')`                 | æ‰§è¡ŒXPathæŸ¥è¯¢å¹¶è¿”å›žåŒ¹é…å…ƒç´ çš„æŒ‡å®šå±žæ€§å€¼æ•°ç»„ã€‚é€‚ç”¨äºŽæ‰¹é‡æå–å…ƒç´ çš„ç‰¹å®šå±žæ€§ã€‚                                                                                              |
| **æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•**                       |
| `regex()`                         | æ­£åˆ™åŒ¹é…        | pattern: æ­£åˆ™è¡¨è¾¾å¼                            | `$doc->regex('/\d{4}-\d{2}-\d{2}/')`              | ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚æ”¯æŒæ‰€æœ‰PCREæ­£åˆ™è¡¨è¾¾å¼è¯­æ³•ï¼Œæä¾›çµæ´»çš„æ–‡æœ¬åŒ¹é…èƒ½åŠ›ã€‚                                                                                         |
| `regexFind()`                     | æ­£åˆ™æŸ¥æ‰¾        | pattern: æ­£åˆ™è¡¨è¾¾å¼, context: ä¸Šä¸‹æ–‡èŠ‚ç‚¹            | `$doc->regexFind('/test/', $element)`             | åœ¨æŒ‡å®šä¸Šä¸‹æ–‡èŠ‚ç‚¹ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾åŒ¹é…çš„å…ƒç´ ã€‚ä¸Šä¸‹æ–‡èŠ‚ç‚¹å¯ä»¥æ˜¯ä»»æ„DOMElementï¼Œæ”¯æŒå±€éƒ¨èŒƒå›´å†…çš„æ–‡æœ¬åŒ¹é…ã€‚                                                                            |
| `regexFirst()`                    | æ­£åˆ™é¦–ä¸ª        | pattern: æ­£åˆ™è¡¨è¾¾å¼                            | `$doc->regexFirst('/\d{4}-\d{2}-\d{2}/')`         | ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¹¶è¿”å›žç¬¬ä¸€ä¸ªåŒ¹é…çš„æ–‡æœ¬å†…å®¹ã€‚é€‚ç”¨äºŽåªéœ€è¦èŽ·å–å•ä¸ªåŒ¹é…ç»“æžœçš„åœºæ™¯ã€‚                                                                                             |
| `regexByAttr()`                   | æ­£åˆ™å±žæ€§åŒ¹é…      | pattern: æ­£åˆ™è¡¨è¾¾å¼, attr: å±žæ€§å                 | `$doc->regexByAttr('/^https/', 'href')`           | ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å…ƒç´ çš„å±žæ€§å€¼ã€‚æ”¯æŒåœ¨æŒ‡å®šå±žæ€§ä¸­è¿›è¡Œæ­£åˆ™åŒ¹é…ï¼Œé€‚ç”¨äºŽæŸ¥æ‰¾ç‰¹å®šæ¨¡å¼çš„å±žæ€§å€¼ï¼Œå¦‚URLã€é‚®ç®±ã€ç”µè¯ç­‰ã€‚                                                                             |
| `regexByAttrFind()`               | æ­£åˆ™å±žæ€§æŸ¥æ‰¾      | pattern: æ­£åˆ™è¡¨è¾¾å¼, attr: å±žæ€§å, context: ä¸Šä¸‹æ–‡èŠ‚ç‚¹ | `$doc->regexByAttrFind('/^https/', 'href', $div)` | åœ¨æŒ‡å®šä¸Šä¸‹æ–‡èŠ‚ç‚¹ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å…ƒç´ çš„å±žæ€§å€¼ã€‚æä¾›å±€éƒ¨èŒƒå›´å†…çš„å±žæ€§åŒ¹é…èƒ½åŠ›ã€‚                                                                                              |
| `regexByAttrFirst()`              | æ­£åˆ™å±žæ€§é¦–ä¸ª      | pattern: æ­£åˆ™è¡¨è¾¾å¼, attr: å±žæ€§å                 | `$doc->regexByAttrFirst('/^https/', 'href')`      | ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¹¶è¿”å›žç¬¬ä¸€ä¸ªå…ƒç´ çš„å±žæ€§å€¼ã€‚é€‚ç”¨äºŽåªéœ€è¦èŽ·å–å•ä¸ªå±žæ€§åŒ¹é…ç»“æžœçš„åœºæ™¯ã€‚                                                                                            |
| **åŸºç¡€é€‰æ‹©å™¨**                         |
| `*`                               | é€šé…ç¬¦         | æ—                                          | `$doc->find('*')`                                 | åŒ¹é…æ–‡æ¡£ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚é€šå¸¸ä¸Žå…¶ä»–é€‰æ‹©å™¨ç»„åˆä½¿ç”¨ï¼Œå¦‚ `div *` åŒ¹é… div å†…çš„æ‰€æœ‰åŽä»£å…ƒç´ ã€‚æ³¨æ„ï¼šæ­¤é€‰æ‹©å™¨æ€§èƒ½å¼€é”€è¾ƒå¤§ï¼Œè°¨æ…Žä½¿ç”¨ã€‚                                                                 |
| `tag`                             | æ ‡ç­¾          | tag: æ ‡ç­¾å                                  | `$doc->find('div')`                               | æ ¹æ®æ ‡ç­¾ååŒ¹é…æ‰€æœ‰æŒ‡å®šçš„ HTML å…ƒç´ ã€‚ä¸åŒºåˆ†å¤§å°å†™ï¼ˆHTML æ¨¡å¼ä¸‹ï¼‰ã€‚å¯ä»¥åŒ¹é…ä»»ä½•æœ‰æ•ˆçš„ HTML æ ‡ç­¾ï¼Œå¦‚ divã€pã€spanã€a ç­‰ã€‚è¿™æ˜¯æœ€åŸºæœ¬å’Œæœ€å¸¸ç”¨çš„é€‰æ‹©å™¨ä¹‹ä¸€ã€‚                                             |
| `.class`                          | ç±»           | class: ç±»å                                 | `$doc->find('.item')`                             | åŒ¹é…æ‰€æœ‰å…·æœ‰æŒ‡å®š class å±žæ€§å€¼çš„å…ƒç´ ã€‚ä¸€ä¸ªå…ƒç´ å¯ä»¥æœ‰å¤šä¸ªç±»ï¼Œ`.class` ä¼šåŒ¹é…æ‰€æœ‰åŒ…å«è¯¥ç±»çš„å…ƒç´ ã€‚å¯ä»¥é“¾å¼ä½¿ç”¨å¤šä¸ªç±»é€‰æ‹©å™¨ï¼ˆå¦‚ `.class1.class2`ï¼‰æ¥åŒ¹é…åŒæ—¶æ‹¥æœ‰å¤šä¸ªç±»çš„å…ƒç´ ã€‚                                 |
| `#id`                             | ID          | id: IDå                                   | `$doc->find('#main')`                             | æ ¹æ®å…ƒç´ çš„ id å±žæ€§å€¼åŒ¹é…å…ƒç´ ã€‚åœ¨ HTML æ–‡æ¡£ä¸­ï¼Œid åº”è¯¥æ˜¯å”¯ä¸€çš„ã€‚å¦‚æžœæœ‰å¤šä¸ªå…ƒç´ ä½¿ç”¨ç›¸åŒ IDï¼Œæ­¤é€‰æ‹©å™¨åªè¿”å›žç¬¬ä¸€ä¸ªã€‚ID é€‰æ‹©å™¨å…·æœ‰å¾ˆé«˜çš„ä¼˜å…ˆçº§å’Œæ€§èƒ½ä¼˜åŠ¿ã€‚                                                  |
| `s1, s2`                          | å¤šé€‰          | å¤šä¸ªé€‰æ‹©å™¨                                     | `$doc->find('div, p')`                            | ä½¿ç”¨é€—å·åˆ†éš”å¤šä¸ªé€‰æ‹©å™¨ï¼ŒåŒ¹é…ä»»æ„ä¸€ä¸ªé€‰æ‹©å™¨é€‰ä¸­çš„å…ƒç´ ã€‚è¿™å…è®¸æ‚¨ä¸€æ¬¡æ€§é€‰æ‹©å¤šç§ä¸åŒç±»åž‹çš„å…ƒç´ ã€‚é€‰æ‹©å™¨ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œæ¯ä¸ªé€‰æ‹©å™¨å¯ä»¥ç‹¬ç«‹å·¥ä½œã€‚                                                                 |
| `s1 s2`                           | åŽä»£          | çˆ¶é€‰æ‹©å™¨ å­é€‰æ‹©å™¨                                 | `$doc->find('div p')`                             | åŒ¹é…ä½œä¸ºç¬¬ä¸€ä¸ªé€‰æ‹©å™¨åŽä»£çš„ç¬¬äºŒä¸ªé€‰æ‹©å™¨çš„æ‰€æœ‰å…ƒç´ ã€‚åŽä»£å…³ç³»ä¸é™å±‚çº§ï¼Œå¯ä»¥æ˜¯ç›´æŽ¥å­å…ƒç´ ã€å­™å…ƒç´ ã€æ›¾å­™å…ƒç´ ç­‰ã€‚è¿™æ˜¯æœ€å¸¸ç”¨çš„ç»„åˆé€‰æ‹©å™¨ä¹‹ä¸€ã€‚                                                                   |
| `s1 > s2`                         | å­ä»£          | çˆ¶é€‰æ‹©å™¨ > å­é€‰æ‹©å™¨                               | `$doc->find('ul > li')`                           | åŒ¹é…ä½œä¸ºç¬¬ä¸€ä¸ªé€‰æ‹©å™¨ç›´æŽ¥å­å…ƒç´ çš„ç¬¬äºŒä¸ªé€‰æ‹©å™¨çš„æ‰€æœ‰å…ƒç´ ã€‚åªåŒ¹é…ç›´æŽ¥å­å…ƒç´ ï¼Œä¸åŒ…æ‹¬æ›´æ·±å±‚çº§çš„åŽä»£ã€‚æ­¤é€‰æ‹©å™¨æ¯”åŽä»£é€‰æ‹©å™¨æ›´ç²¾ç¡®ï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½ã€‚                                                                  |
| `s1 + s2`                         | ç›¸é‚»å…„å¼Ÿ        | å‰ä¸€ä¸ª + åŽä¸€ä¸ª                                 | `$doc->find('h2 + p')`                            | åŒ¹é…ç´§æŽ¥åœ¨ç¬¬ä¸€ä¸ªé€‰æ‹©å™¨ä¹‹åŽçš„ç¬¬äºŒä¸ªé€‰æ‹©å™¨ã€‚ä¸¤ä¸ªå…ƒç´ å¿…é¡»æ‹¥æœ‰ç›¸åŒçš„çˆ¶å…ƒç´ ï¼Œå¹¶ä¸”ç¬¬äºŒä¸ªå…ƒç´ å¿…é¡»ç´§è·Ÿåœ¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹åŽã€‚åªåŒ¹é…ä¸€ä¸ªå…ƒç´ ã€‚                                                                      |
| `s1 ~ s2`                         | é€šç”¨å…„å¼Ÿ        | å‰ä¸€ä¸ª ~ åŽé¢æ‰€æœ‰                                | `$doc->find('h2 ~ p')`                            | åŒ¹é…ç¬¬ä¸€ä¸ªé€‰æ‹©å™¨ä¹‹åŽçš„æ‰€æœ‰ç¬¬äºŒä¸ªé€‰æ‹©å™¨å…ƒç´ ã€‚ä¸¤ä¸ªå…ƒç´ å¿…é¡»æ‹¥æœ‰ç›¸åŒçš„çˆ¶å…ƒç´ ï¼Œä½†ä¸è¦æ±‚ç›¸é‚»ã€‚ä¼šåŒ¹é…æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å…„å¼Ÿå…ƒç´ ã€‚                                                                           |
| **å±žæ€§é€‰æ‹©å™¨**                         |
| `[attr]`                          | å­˜åœ¨          | attr: å±žæ€§å                                 | `$doc->find('[href]')`                            | åŒ¹é…æ‰€æœ‰å…·æœ‰æŒ‡å®šå±žæ€§çš„å…ƒç´ ï¼Œæ— è®ºå±žæ€§å€¼æ˜¯ä»€ä¹ˆã€‚åªè¦å…ƒç´ å­˜åœ¨è¯¥å±žæ€§å°±ä¼šè¢«é€‰ä¸­ã€‚è¿™æ˜¯å±žæ€§é€‰æ‹©å™¨ä¸­æœ€ç®€å•çš„ä¸€ç§ï¼Œå¸¸ç”¨äºŽæ£€æŸ¥å…ƒç´ æ˜¯å¦æœ‰æŸä¸ªç‰¹æ€§ã€‚                                                                  |
| `[attr=value]`                    | ç­‰äºŽ          | attr, value                               | `$doc->find('[id="123"]')`                        | åŒ¹é…å±žæ€§å€¼å®Œå…¨ç­‰äºŽæŒ‡å®šå€¼çš„å…ƒç´ ã€‚æ¯”è¾ƒæ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚å€¼å¿…é¡»å®Œå…¨åŒ¹é…ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦ã€‚å¸¸ç”¨äºŽç²¾ç¡®åŒ¹é…ç‰¹å®šçš„å±žæ€§å€¼ã€‚                                                                            |
| `[attr~=value]`                   | åŒ…å«å•è¯        | attr, value                               | `$doc->find('[class~="active"]')`                 | åŒ¹é…å±žæ€§å€¼åŒ…å«æŒ‡å®šå•è¯çš„å…ƒç´ ã€‚å±žæ€§å€¼é€šå¸¸æ˜¯ç”±ç©ºæ ¼åˆ†éš”çš„å•è¯åˆ—è¡¨ï¼Œæ­¤é€‰æ‹©å™¨ä¼šåŒ¹é…åŒ…å«å…¶ä¸­æŸä¸ªå•è¯çš„å…ƒç´ ã€‚ä¸ä¼šåŒ¹é…éƒ¨åˆ†å­—ç¬¦ä¸²ï¼ˆå¦‚ "item-active" ä¸ä¼šåŒ¹é… "active"ï¼‰ã€‚                                          |
| `[attr\|=value]`                  | ç­‰äºŽæˆ–å‰ç¼€       | attr, value                               | `$doc->find('[lang\|="en"]')`                     | åŒ¹é…å±žæ€§å€¼ç­‰äºŽæŒ‡å®šå€¼ï¼Œæˆ–ä»¥æŒ‡å®šå€¼åŠ è¿žå­—ç¬¦å¼€å¤´çš„å…ƒç´ ã€‚æœ€å¸¸ç”¨äºŽè¯­è¨€é€‰æ‹©ï¼Œä¾‹å¦‚ `lang="en"`ã€`lang="en-US"`ã€`lang="en-GB"` éƒ½ä¼šè¢« `[lang\|="en"]` åŒ¹é…ã€‚                               |
| `[attr^=value]`                   | ä»¥...å¼€å¤´      | attr, value                               | `$doc->find('[src^="https"]')`                    | åŒ¹é…å±žæ€§å€¼ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´çš„å…ƒç´ ã€‚æ¯”è¾ƒæ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚å¸¸ç”¨äºŽåŒ¹é…å…·æœ‰ç‰¹å®šå‰ç¼€çš„ URLã€ç±»åæˆ– IDã€‚ä¾‹å¦‚ï¼Œ`[href^="http"]` åŒ¹é…æ‰€æœ‰ HTTP é“¾æŽ¥ã€‚                                                  |
| `[attr$=value]`                   | ä»¥...ç»“å°¾      | attr, value                               | `$doc->find('[src$=".jpg"]')`                     | åŒ¹é…å±žæ€§å€¼ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾çš„å…ƒç´ ã€‚æ¯”è¾ƒæ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚å¸¸ç”¨äºŽåŒ¹é…ç‰¹å®šæ–‡ä»¶ç±»åž‹çš„ URLï¼Œå¦‚ `[src$=".png"]` åŒ¹é…æ‰€æœ‰ PNG å›¾ç‰‡ã€‚                                                            |
| `[attr*=value]`                   | åŒ…å«          | attr, value                               | `$doc->find('[class*="nav"]')`                    | åŒ¹é…å±žæ€§å€¼åŒ…å«æŒ‡å®šå­å­—ç¬¦ä¸²çš„å…ƒç´ ã€‚å¯ä»¥åœ¨å±žæ€§å€¼çš„ä»»ä½•ä½ç½®åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œ`[class*="nav"]` å¯ä»¥åŒ¹é… `class="main-nav"`ã€`class="navbar"`ã€`class="navigation"` ç­‰ã€‚                   |
| **ç»“æž„ä¼ªç±»**                          |
| `:first-child`                    | ç¬¬ä¸€ä¸ªå­å…ƒç´       | æ—                                          | `$doc->find('li:first-child')`                    | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„å…ƒç´ ã€‚ä¸Ž `:first` ä¸åŒï¼Œ`:first-child` æ˜¯åŸºäºŽ DOM ç»“æž„ä¸­çˆ¶å…ƒç´ çš„å­å…ƒç´ ä½ç½®ï¼Œä¸æ˜¯åŸºäºŽæŸ¥è¯¢ç»“æžœé›†ã€‚æ¯ä¸ªçˆ¶å…ƒç´ å¯ä»¥æœ‰å¤šä¸ª `:first-child`ã€‚                              |
| `:last-child`                     | æœ€åŽä¸€ä¸ªå­å…ƒç´      | æ—                                          | `$doc->find('li:last-child')`                     | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ æœ€åŽä¸€ä¸ªå­å…ƒç´ çš„å…ƒç´ ã€‚åŒæ ·åŸºäºŽçˆ¶å…ƒç´ çš„å­å…ƒç´ ä½ç½®ï¼Œä¸æ˜¯åŸºäºŽæŸ¥è¯¢ç»“æžœé›†ã€‚æ¯ä¸ªçˆ¶å…ƒç´ å¯ä»¥æœ‰å¤šä¸ª `:last-child`ã€‚                                                                  |
| `:only-child`                     | å”¯ä¸€å­å…ƒç´        | æ—                                          | `$doc->find('div:only-child')`                    | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ å”¯ä¸€å­å…ƒç´ çš„å…ƒç´ ã€‚å³è¯¥çˆ¶å…ƒç´ åªæœ‰ä¸€ä¸ªå­å…ƒç´ ï¼Œå¹¶ä¸”å°±æ˜¯å½“å‰å…ƒç´ ã€‚å¸¸ç”¨äºŽåˆ¤æ–­å…ƒç´ æ˜¯å¦æ˜¯ç‹¬ç”Ÿå­å…ƒç´ ã€‚                                                                               |
| `:nth-child(n)`                   | ç¬¬nä¸ªå­å…ƒç´       | n: æ•°å­—/odd/even/an+b                       | `$doc->find('li:nth-child(2)')`                   | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ ç¬¬ n ä¸ªå­å…ƒç´ çš„å…ƒç´ ã€‚å‚æ•° n å¯ä»¥æ˜¯ï¼š1) æ•°å­—ï¼ˆå¦‚ 2ã€3ï¼‰è¡¨ç¤ºå…·ä½“ä½ç½®ï¼›2) odd è¡¨ç¤ºå¥‡æ•°ä½ç½®ï¼ˆ1,3,5...ï¼‰ï¼›3) even è¡¨ç¤ºå¶æ•°ä½ç½®ï¼ˆ2,4,6...ï¼‰ï¼›4) an+b å…¬å¼ï¼ˆå¦‚ 2n+1ã€3n+2ï¼‰è¡¨ç¤ºç¬¦åˆç‰¹å®šæ¨¡å¼çš„å­å…ƒç´ ã€‚ |
| `:nth-last-child(n)`              | å€’æ•°ç¬¬nä¸ª       | n: æ•°å­—/odd/even/an+b                       | `$doc->find('li:nth-last-child(2)')`              | ä¸Ž `:nth-child(n)` ç±»ä¼¼ï¼Œä½†ä»ŽåŽå¾€å‰è®¡æ•°ã€‚å³åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ å€’æ•°ç¬¬ n ä¸ªå­å…ƒç´ çš„å…ƒç´ ã€‚å‚æ•°æ ¼å¼ä¸Ž `:nth-child` ç›¸åŒã€‚                                                            |
| `:first-of-type`                  | åŒç±»åž‹ç¬¬ä¸€ä¸ª      | æ—                                          | `$doc->find('p:first-of-type')`                   | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ ç¬¬ä¸€ä¸ªåŒç±»åž‹å­å…ƒç´ çš„å…ƒç´ ã€‚åªè€ƒè™‘ç›¸åŒæ ‡ç­¾åçš„å…ƒç´ ï¼Œå¿½ç•¥å…¶ä»–ç±»åž‹çš„å…ƒç´ ã€‚å¦‚æžœä¸€ä¸ªçˆ¶å…ƒç´ æœ‰ pã€spanã€divï¼Œé‚£ä¹ˆ pã€spanã€div å„è‡ªä¼šæœ‰ä¸€ä¸ª first-of-typeã€‚                                    |
| `:last-of-type`                   | åŒç±»åž‹æœ€åŽä¸€ä¸ª     | æ—                                          | `$doc->find('p:last-of-type')`                    | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ æœ€åŽä¸€ä¸ªåŒç±»åž‹å­å…ƒç´ çš„å…ƒç´ ã€‚åŒæ ·åªè€ƒè™‘ç›¸åŒæ ‡ç­¾åçš„å…ƒç´ ã€‚å¸¸ç”¨äºŽé€‰æ‹©æŸç§ç±»åž‹çš„æœ€åŽä¸€ä¸ªå…ƒç´ ã€‚                                                                                 |
| `:only-of-type`                   | å”¯ä¸€åŒç±»åž‹       | æ—                                          | `$doc->find('div:only-of-type')`                  | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ ä¸­å”¯ä¸€åŒç±»åž‹å­å…ƒç´ çš„å…ƒç´ ã€‚å³è¯¥çˆ¶å…ƒç´ ä¸­åªæœ‰ä¸€ä¸ªè¯¥ç±»åž‹çš„å…ƒç´ ã€‚ä¸åŒäºŽ `:only-child`ï¼Œ`only-of-type` å…è®¸æœ‰å…¶ä»–ç±»åž‹çš„å…„å¼Ÿå…ƒç´ ã€‚                                                  |
| `:nth-of-type(n)`                 | åŒç±»åž‹ç¬¬nä¸ª      | n: æ•°å­—/odd/even/an+b                       | `$doc->find('p:nth-of-type(2)')`                  | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ ç¬¬ n ä¸ªåŒç±»åž‹å­å…ƒç´ çš„å…ƒç´ ã€‚åªè®¡ç®—åŒæ ‡ç­¾åçš„å…ƒç´ ï¼Œå¿½ç•¥å…¶ä»–ç±»åž‹ã€‚å‚æ•°æ ¼å¼ä¸Ž `:nth-child` ç›¸åŒã€‚                                                                       |
| `:nth-last-of-type(n)`            | åŒç±»åž‹å€’æ•°ç¬¬nä¸ª    | n: æ•°å­—/odd/even/an+b                       | `$doc->find('p:nth-last-of-type(2)')`             | ä¸Ž `:nth-of-type(n)` ç±»ä¼¼ï¼Œä½†ä»ŽåŽå¾€å‰è®¡æ•°ã€‚åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ å€’æ•°ç¬¬ n ä¸ªåŒç±»åž‹å­å…ƒç´ çš„å…ƒç´ ã€‚                                                                              |
| **å†…å®¹ä¼ªç±»**                          |
| `:empty`                          | ç©ºå…ƒç´          | æ—                                          | `$doc->find('div:empty')`                         | åŒ¹é…æ²¡æœ‰ä»»ä½•å­å…ƒç´ å’Œæ–‡æœ¬å†…å®¹çš„å…ƒç´ ã€‚åŒ…æ‹¬æ²¡æœ‰å­å…ƒç´ ã€æ–‡æœ¬å†…å®¹ä¸ºç©ºæˆ–ä»…åŒ…å«ç©ºç™½å­—ç¬¦çš„å…ƒç´ éƒ½ä¸ä¼šè¢«åŒ¹é…ã€‚è¿™æ˜¯åˆ¤æ–­å…ƒç´ æ˜¯å¦ä¸ºç©ºçš„ç²¾ç¡®æ–¹æ³•ã€‚                                                                    |
| `:contains(text)`                 | åŒ…å«æ–‡æœ¬        | text: æ–‡æœ¬                                  | `$doc->find('div:contains(Hello)')`               | åŒ¹é…åŒ…å«æŒ‡å®šæ–‡æœ¬çš„å…ƒç´ ã€‚æœç´¢èŒƒå›´åŒ…æ‹¬å…ƒç´ è‡ªèº«çš„æ–‡æœ¬å†…å®¹å’Œæ‰€æœ‰å­å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚åŒºåˆ†å¤§å°å†™ã€‚å¸¸ç”¨äºŽæŸ¥æ‰¾åŒ…å«ç‰¹å®šå…³é”®è¯çš„å…ƒç´ ã€‚                                                                         |
| `:contains-text(text)`            | ç›´æŽ¥åŒ…å«æ–‡æœ¬      | text: æ–‡æœ¬                                  | `$doc->find('div:contains-text(Hello)')`          | åŒ¹é…ç›´æŽ¥åŒ…å«æŒ‡å®šæ–‡æœ¬çš„å…ƒç´ ã€‚ä¸Ž `:contains` ä¸åŒï¼Œæ­¤é€‰æ‹©å™¨åªæ£€æŸ¥å…ƒç´ è‡ªèº«çš„æ–‡æœ¬å†…å®¹ï¼Œä¸åŒ…æ‹¬å­å…ƒç´ çš„æ–‡æœ¬ã€‚ç”¨äºŽç²¾ç¡®å®šä½ç›´æŽ¥åŒ…å«æŸæ–‡æœ¬çš„å…ƒç´ ã€‚                                                           |
| `:starts-with(text)`              | ä»¥...å¼€å¤´      | text: æ–‡æœ¬                                  | `$doc->find('div:starts-with(Hello)')`            | åŒ¹é…æ–‡æœ¬å†…å®¹ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´çš„å…ƒç´ ã€‚åªæ£€æŸ¥å…ƒç´ è‡ªèº«çš„æ–‡æœ¬å†…å®¹ã€‚å¸¸ç”¨äºŽæŸ¥æ‰¾å…·æœ‰ç‰¹å®šå‰ç¼€çš„æ–‡æœ¬å†…å®¹ã€‚åŒºåˆ†å¤§å°å†™ã€‚                                                                                |
| `:ends-with(text)`                | ä»¥...ç»“å°¾      | text: æ–‡æœ¬                                  | `$doc->find('div:ends-with(World)')`              | åŒ¹é…æ–‡æœ¬å†…å®¹ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾çš„å…ƒç´ ã€‚åªæ£€æŸ¥å…ƒç´ è‡ªèº«çš„æ–‡æœ¬å†…å®¹ã€‚å¸¸ç”¨äºŽæŸ¥æ‰¾å…·æœ‰ç‰¹å®šåŽç¼€çš„æ–‡æœ¬å†…å®¹ã€‚åŒºåˆ†å¤§å°å†™ã€‚                                                                                |
| `:has(selector)`                  | åŒ…å«åŽä»£        | selector: é€‰æ‹©å™¨                             | `$doc->find('div:has(a)')`                        | åŒ¹é…åŒ…å«åŒ¹é…æŒ‡å®šé€‰æ‹©å™¨åŽä»£å…ƒç´ çš„çˆ¶å…ƒç´ ã€‚å³å¦‚æžœæŸä¸ªå…ƒç´ çš„åŽä»£ä¸­ï¼ˆä¸é™å±‚çº§ï¼‰æœ‰å…ƒç´ åŒ¹é…ç»™å®šçš„é€‰æ‹©å™¨ï¼Œé‚£ä¹ˆè¯¥çˆ¶å…ƒç´ å°±ä¼šè¢«é€‰ä¸­ã€‚è¿™æ˜¯æŸ¥æ‰¾ç‰¹å®šç»“æž„å…ƒç´ çš„å¼ºå¤§å·¥å…·ã€‚                                                         |
| `:not(selector)`                  | ä¸åŒ¹é…         | selector: é€‰æ‹©å™¨                             | `$doc->find('div:not(.active)')`                  | åŒ¹é…ä¸åŒ¹é…æŒ‡å®šé€‰æ‹©å™¨çš„å…ƒç´ ã€‚å³åå‘é€‰æ‹©ï¼Œé€‰æ‹©æ‰€æœ‰ä¸æ»¡è¶³ç»™å®šæ¡ä»¶çš„å…ƒç´ ã€‚å¯ä»¥ç”¨äºŽæŽ’é™¤ç‰¹å®šç±»åž‹çš„å…ƒç´ ã€‚æ³¨æ„ï¼šå‚æ•°é€‰æ‹©å™¨ä¸èƒ½è¿‡äºŽå¤æ‚ã€‚                                                                      |
| `:blank`                          | ç©ºç™½          | æ—                                          | `$doc->find('p:blank')`                           | åŒ¹é…ç©ºç™½å…ƒç´ ï¼ˆæ— å¯è§æ–‡æœ¬æˆ–å­å…ƒç´ ï¼‰ã€‚ä¸Ž `:empty` ç±»ä¼¼ï¼Œä½†å…è®¸åŒ…å«ç©ºç™½å­—ç¬¦ã€‚å…ƒç´ å¦‚æžœæ²¡æœ‰ä»»ä½•å¯è§å†…å®¹æˆ–åªæœ‰ç©ºç™½å­—ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€æ¢è¡Œã€åˆ¶è¡¨ç¬¦ï¼‰ï¼Œåˆ™ä¼šè¢«åŒ¹é…ã€‚                                                      |
| `:parent-only-text`               | åªæœ‰æ–‡æœ¬        | æ—                                          | `$doc->find('div:parent-only-text')`              | åŒ¹é…åªæœ‰æ–‡æœ¬å†…å®¹ä¸”æ²¡æœ‰å­å…ƒç´ çš„å…ƒç´ ã€‚å³å…ƒç´ å¿…é¡»åŒ…å«éžç©ºç™½æ–‡æœ¬ï¼Œä½†ä¸èƒ½æœ‰ä»»ä½•å­å…ƒç´ ã€‚å¸¸ç”¨äºŽæŸ¥æ‰¾çº¯æ–‡æœ¬èŠ‚ç‚¹ã€‚                                                                                  |
| **è¡¨å•ä¼ªç±»**                          |
| `:enabled`                        | å¯ç”¨          | æ—                                          | `$doc->find(':enabled')`                          | å¯ç”¨çš„è¡¨å•å…ƒç´                                                                                                                                |
| `:disabled`                       | ç¦ç”¨          | æ—                                          | `$doc->find(':disabled')`                         | ç¦ç”¨çš„è¡¨å•å…ƒç´                                                                                                                                |
| `:checked`                        | é€‰ä¸­          | æ—                                          | `$doc->find(':checked')`                          | é€‰ä¸­çš„å¤é€‰æ¡†/å•é€‰                                                                                                                             |
| `:selected`                       | é€‰ä¸­çš„é€‰é¡¹       | æ—                                          | `$doc->find('option:selected')`                   | é€‰ä¸­çš„é€‰é¡¹                                                                                                                                 |
| `:required`                       | å¿…å¡«          | æ—                                          | `$doc->find(':required')`                         | å¿…å¡«å­—æ®µ                                                                                                                                  |
| `:optional`                       | å¯é€‰          | æ—                                          | `$doc->find(':optional')`                         | å¯é€‰å­—æ®µ                                                                                                                                  |
| `:read-only`                      | åªè¯»          | æ—                                          | `$doc->find(':read-only')`                        | åªè¯»å­—æ®µ                                                                                                                                  |
| `:read-write`                     | å¯å†™          | æ—                                          | `$doc->find(':read-write')`                       | å¯å†™å­—æ®µ                                                                                                                                  |
| **è¡¨å•å…ƒç´ ç±»åž‹**                        |
| `:text`                           | æ–‡æœ¬è¾“å…¥        | æ—                                          | `$doc->find('input:text')`                        | æ–‡æœ¬è¾“å…¥æ¡†                                                                                                                                 |
| `:password`                       | å¯†ç           | æ—                                          | `$doc->find('input:password')`                    | å¯†ç æ¡†                                                                                                                                   |
| `:checkbox`                       | å¤é€‰æ¡†         | æ—                                          | `$doc->find('input:checkbox')`                    | å¤é€‰æ¡†                                                                                                                                   |
| `:radio`                          | å•é€‰æŒ‰é’®        | æ—                                          | `$doc->find('input:radio')`                       | å•é€‰æŒ‰é’®                                                                                                                                  |
| `:file`                           | æ–‡ä»¶          | æ—                                          | `$doc->find('input:file')`                        | æ–‡ä»¶ä¸Šä¼                                                                                                                                   |
| `:email`                          | é‚®ç®±          | æ—                                          | `$doc->find('input:email')`                       | é‚®ç®±è¾“å…¥                                                                                                                                  |
| `:url`                            | URL         | æ—                                          | `$doc->find('input:url')`                         | URLè¾“å…¥                                                                                                                                 |
| `:number`                         | æ•°å­—          | æ—                                          | `$doc->find('input:number')`                      | æ•°å­—è¾“å…¥                                                                                                                                  |
| `:tel`                            | ç”µè¯          | æ—                                          | `$doc->find('input:tel')`                         | ç”µè¯è¾“å…¥                                                                                                                                  |
| `:search`                         | æœç´¢          | æ—                                          | `$doc->find('input:search')`                      | æœç´¢æ¡†                                                                                                                                   |
| `:date`                           | æ—¥æœŸ          | æ—                                          | `$doc->find('input:date')`                        | æ—¥æœŸé€‰æ‹©                                                                                                                                  |
| `:time`                           | æ—¶é—´          | æ—                                          | `$doc->find('input:time')`                        | æ—¶é—´é€‰æ‹©                                                                                                                                  |
| `:datetime`                       | æ—¥æœŸæ—¶é—´        | æ—                                          | `$doc->find('input:datetime')`                    | æ—¥æœŸæ—¶é—´                                                                                                                                  |
| `:datetime-local`                 | æœ¬åœ°æ—¥æœŸæ—¶é—´      | æ—                                          | `$doc->find('input:datetime-local')`              | æœ¬åœ°æ—¥æœŸæ—¶é—´                                                                                                                                |
| `:month`                          | æœˆä»½          | æ—                                          | `$doc->find('input:month')`                       | æœˆä»½é€‰æ‹©                                                                                                                                  |
| `:week`                           | å‘¨           | æ—                                          | `$doc->find('input:week')`                        | å‘¨é€‰æ‹©                                                                                                                                   |
| `:color`                          | é¢œè‰²          | æ—                                          | `$doc->find('input:color')`                       | é¢œè‰²é€‰æ‹©å™¨                                                                                                                                 |
| `:range`                          | èŒƒå›´          | æ—                                          | `$doc->find('input:range')`                       | èŒƒå›´æ»‘å—                                                                                                                                  |
| `:submit`                         | æäº¤æŒ‰é’®        | æ—                                          | `$doc->find('input:submit')`                      | æäº¤æŒ‰é’®                                                                                                                                  |
| `:reset`                          | é‡ç½®æŒ‰é’®        | æ—                                          | `$doc->find('input:reset')`                       | é‡ç½®æŒ‰é’®                                                                                                                                  |
| `:image`                          | å›¾ç‰‡æŒ‰é’®        | æ—                                          | `$doc->find('input:image')`                       | å›¾ç‰‡æŒ‰é’®                                                                                                                                  |
| **HTMLå…ƒç´ ä¼ªç±»**                      |
| `:header`                         | æ ‡é¢˜          | æ—                                          | `$doc->find(':header')`                           | h1-h6                                                                                                                                 |
| `:input`                          | è¡¨å•è¾“å…¥        | æ—                                          | `$doc->find(':input')`                            | input/textarea/select/button                                                                                                          |
| `:button`                         | æŒ‰é’®          | æ—                                          | `$doc->find(':button')`                           | button/input button                                                                                                                   |
| `:link`                           | é“¾æŽ¥          | æ—                                          | `$doc->find('a:link')`                            | æœ‰hrefçš„aæ ‡ç­¾                                                                                                                             |
| `:visited`                        | å·²è®¿é—®é“¾æŽ¥       | æ—                                          | `$doc->find('a:visited')`                         | aæ ‡ç­¾                                                                                                                                   |
| `:image`                          | å›¾ç‰‡          | æ—                                          | `$doc->find(':image')`                            | imgæ ‡ç­¾                                                                                                                                 |
| `:video`                          | è§†é¢‘          | æ—                                          | `$doc->find(':video')`                            | videoæ ‡ç­¾                                                                                                                               |
| `:audio`                          | éŸ³é¢‘          | æ—                                          | `$doc->find(':audio')`                            | audioæ ‡ç­¾                                                                                                                               |
| `:canvas`                         | ç”»å¸ƒ          | æ—                                          | `$doc->find(':canvas')`                           | canvasæ ‡ç­¾                                                                                                                              |
| `:svg`                            | SVG         | æ—                                          | `$doc->find(':svg')`                              | svgæ ‡ç­¾                                                                                                                                 |
| `:script`                         | è„šæœ¬          | æ—                                          | `$doc->find(':script')`                           | scriptæ ‡ç­¾                                                                                                                              |
| `:style`                          | æ ·å¼          | æ—                                          | `$doc->find(':style')`                            | styleæ ‡ç­¾                                                                                                                               |
| `:meta`                           | å…ƒä¿¡æ¯         | æ—                                          | `$doc->find(':meta')`                             | metaæ ‡ç­¾                                                                                                                                |
| `:link`                           | é“¾æŽ¥          | æ—                                          | `$doc->find(':link')`                             | linkæ ‡ç­¾                                                                                                                                |
| `:base`                           | åŸºå‡†URL       | æ—                                          | `$doc->find(':base')`                             | baseæ ‡ç­¾                                                                                                                                |
| `:head`                           | å¤´éƒ¨          | æ—                                          | `$doc->find(':head')`                             | headæ ‡ç­¾                                                                                                                                |
| `:body`                           | ä¸»ä½“          | æ—                                          | `$doc->find(':body')`                             | bodyæ ‡ç­¾                                                                                                                                |
| `:title`                          | æ ‡é¢˜          | æ—                                          | `$doc->find(':title')`                            | titleæ ‡ç­¾                                                                                                                               |
| **HTML5ç»“æž„å…ƒç´ **                     |
| `:table`                          | è¡¨æ ¼          | æ—                                          | `$doc->find(':table')`                            | tableæ ‡ç­¾                                                                                                                               |
| `:tr`                             | è¡¨æ ¼è¡Œ         | æ—                                          | `$doc->find(':tr')`                               | træ ‡ç­¾                                                                                                                                  |
| `:td`                             | è¡¨æ ¼å•å…ƒæ ¼       | æ—                                          | `$doc->find(':td')`                               | tdæ ‡ç­¾                                                                                                                                  |
| `:th`                             | è¡¨æ ¼å¤´         | æ—                                          | `$doc->find(':th')`                               | thæ ‡ç­¾                                                                                                                                  |
| `:thead`                          | è¡¨æ ¼å¤´         | æ—                                          | `$doc->find(':thead')`                            | theadæ ‡ç­¾                                                                                                                               |
| `:tbody`                          | è¡¨æ ¼ä¸»ä½“        | æ—                                          | `$doc->find(':tbody')`                            | tbodyæ ‡ç­¾                                                                                                                               |
| `:tfoot`                          | è¡¨æ ¼å°¾         | æ—                                          | `$doc->find(':tfoot')`                            | tfootæ ‡ç­¾                                                                                                                               |
| `:ul`                             | æ— åºåˆ—è¡¨        | æ—                                          | `$doc->find(':ul')`                               | ulæ ‡ç­¾                                                                                                                                  |
| `:ol`                             | æœ‰åºåˆ—è¡¨        | æ—                                          | `$doc->find(':ol')`                               | olæ ‡ç­¾                                                                                                                                  |
| `:li`                             | åˆ—è¡¨é¡¹         | æ—                                          | `$doc->find(':li')`                               | liæ ‡ç­¾                                                                                                                                  |
| `:dl`                             | å®šä¹‰åˆ—è¡¨        | æ—                                          | `$doc->find(':dl')`                               | dlæ ‡ç­¾                                                                                                                                  |
| `:dt`                             | å®šä¹‰æœ¯è¯­        | æ—                                          | `$doc->find(':dt')`                               | dtæ ‡ç­¾                                                                                                                                  |
| `:dd`                             | å®šä¹‰æè¿°        | æ—                                          | `$doc->find(':dd')`                               | ddæ ‡ç­¾                                                                                                                                  |
| `:form`                           | è¡¨å•          | æ—                                          | `$doc->find(':form')`                             | formæ ‡ç­¾                                                                                                                                |
| `:label`                          | æ ‡ç­¾          | æ—                                          | `$doc->find(':label')`                            | labelæ ‡ç­¾                                                                                                                               |
| `:fieldset`                       | å­—æ®µé›†         | æ—                                          | `$doc->find(':fieldset')`                         | fieldsetæ ‡ç­¾                                                                                                                            |
| `:legend`                         | å›¾ä¾‹          | æ—                                          | `$doc->find(':legend')`                           | legendæ ‡ç­¾                                                                                                                              |
| `:section`                        | ç« èŠ‚          | æ—                                          | `$doc->find(':section')`                          | sectionæ ‡ç­¾                                                                                                                             |
| `:article`                        | æ–‡ç«           | æ—                                          | `$doc->find(':article')`                          | articleæ ‡ç­¾                                                                                                                             |
| `:aside`                          | ä¾§è¾¹æ          | æ—                                          | `$doc->find(':aside')`                            | asideæ ‡ç­¾                                                                                                                               |
| `:nav`                            | å¯¼èˆª          | æ—                                          | `$doc->find(':nav')`                              | navæ ‡ç­¾                                                                                                                                 |
| `:main`                           | ä¸»å†…å®¹         | æ—                                          | `$doc->find(':main')`                             | mainæ ‡ç­¾                                                                                                                                |
| `:footer`                         | é¡µè„š          | æ—                                          | `$doc->find(':footer')`                           | footeræ ‡ç­¾                                                                                                                              |
| `:figure`                         | å›¾è¡¨          | æ—                                          | `$doc->find(':figure')`                           | figureæ ‡ç­¾                                                                                                                              |
| `:figcaption`                     | å›¾è¡¨æ ‡é¢˜        | æ—                                          | `$doc->find(':figcaption')`                       | figcaptionæ ‡ç­¾                                                                                                                          |
| `:details`                        | è¯¦æƒ…          | æ—                                          | `$doc->find(':details')`                          | detailsæ ‡ç­¾                                                                                                                             |
| `:summary`                        | æ‘˜è¦          | æ—                                          | `$doc->find(':summary')`                          | summaryæ ‡ç­¾                                                                                                                             |
| `:dialog`                         | å¯¹è¯æ¡†         | æ—                                          | `$doc->find(':dialog')`                           | dialogæ ‡ç­¾                                                                                                                              |
| `:menu`                           | èœå•          | æ—                                          | `$doc->find(':menu')`                             | menuæ ‡ç­¾                                                                                                                                |
| **ä½ç½®ä¼ªç±»**                          |
| `:first`                          | ç¬¬ä¸€ä¸ª         | æ—                                          | `$doc->find('li:first')`                          | ç»“æžœé›†ç¬¬ä¸€ä¸ª                                                                                                                                |
| `:last`                           | æœ€åŽä¸€ä¸ª        | æ—                                          | `$doc->find('li:last')`                           | ç»“æžœé›†æœ€åŽä¸€ä¸ª                                                                                                                               |
| `:even`                           | å¶æ•°          | æ—                                          | `$doc->find('li:even')`                           | å¶æ•°ä½ç½®(1,3,5)                                                                                                                           |
| `:odd`                            | å¥‡æ•°          | æ—                                          | `$doc->find('li:odd')`                            | å¥‡æ•°ä½ç½®(0,2,4)                                                                                                                           |
| `:eq(n)`                          | ç­‰äºŽç´¢å¼•        | n: ç´¢å¼•                                     | `$doc->find('li:eq(2)')`                          | ç´¢å¼•ç­‰äºŽn                                                                                                                                 |
| `:gt(n)`                          | å¤§äºŽç´¢å¼•        | n: ç´¢å¼•                                     | `$doc->find('li:gt(2)')`                          | ç´¢å¼•å¤§äºŽn                                                                                                                                 |
| `:lt(n)`                          | å°äºŽç´¢å¼•        | n: ç´¢å¼•                                     | `$doc->find('li:lt(3)')`                          | ç´¢å¼•å°äºŽn                                                                                                                                 |
| `:parent`                         | çˆ¶å…ƒç´          | æ—                                          | `$doc->find(':parent')`                           | æœ‰å­å…ƒç´ çš„å…ƒç´                                                                                                                                |
| `:between(start,end)`             | ç´¢å¼•èŒƒå›´        | start, end                                | `$doc->find('li:between(2,5)')`                   | ç´¢å¼•åœ¨2-5ä¹‹é—´                                                                                                                              |
| `:slice(start:end)`               | åˆ‡ç‰‡          | start:end                                 | `$doc->find('li:slice(1:3)')`                     | åˆ‡ç‰‡èŒƒå›´                                                                                                                                  |
| **å¯è§æ€§ä¼ªç±»**                         |
| `:visible`                        | å¯è§          | æ—                                          | `$doc->find(':visible')`                          | å¯è§å…ƒç´                                                                                                                                   |
| `:hidden`                         | éšè—          | æ—                                          | `$doc->find(':hidden')`                           | éšè—å…ƒç´                                                                                                                                   |
| **çŠ¶æ€ä¼ªç±»**                          |
| `:root`                           | æ ¹å…ƒç´          | æ—                                          | `$doc->find(':root')`                             | æ–‡æ¡£æ ¹å…ƒç´                                                                                                                                  |
| `:target`                         | ç›®æ ‡          | æ—                                          | `$doc->find(':target')`                           | URLé”šç‚¹ç›®æ ‡                                                                                                                               |
| `:focus`                          | ç„¦ç‚¹          | æ—                                          | `$doc->find(':focus')`                            | èŽ·å¾—ç„¦ç‚¹                                                                                                                                  |
| `:hover`                          | æ‚¬åœ          | æ—                                          | `$doc->find(':hover')`                            | é¼ æ ‡æ‚¬åœ                                                                                                                                  |
| `:active`                         | æ¿€æ´»          | æ—                                          | `$doc->find(':active')`                           | è¢«æ¿€æ´»                                                                                                                                   |
| **è¯­è¨€å’Œæ–¹å‘**                         |
| `:lang(lang)`                     | è¯­è¨€          | lang: è¯­è¨€ä»£ç                                 | `$doc->find(':lang(zh)')`                         | æŒ‡å®šè¯­è¨€                                                                                                                                  |
| `:dir-ltr`                        | å·¦åˆ°å³         | æ—                                          | `$doc->find(':dir-ltr')`                          | å·¦åˆ°å³æ–¹å‘                                                                                                                                 |
| `:dir-rtl`                        | å³åˆ°å·¦         | æ—                                          | `$doc->find(':dir-rtl')`                          | å³åˆ°å·¦æ–¹å‘                                                                                                                                 |
| `:dir-auto`                       | è‡ªåŠ¨          | æ—                                          | `$doc->find(':dir-auto')`                         | è‡ªåŠ¨æ–¹å‘                                                                                                                                  |
| **æ·±åº¦ä¼ªç±»**                          |
| `:depth-0`                        | æ ¹çº§åˆ«         | æ—                                          | `$doc->find(':depth-0')`                          | æ— ç¥–å…ˆå…ƒç´                                                                                                                                  |
| `:depth-1`                        | æ·±åº¦1         | æ—                                          | `$doc->find(':depth-1')`                          | 1å±‚ç¥–å…ˆ                                                                                                                                  |
| `:depth-2`                        | æ·±åº¦2         | æ—                                          | `$doc->find(':depth-2')`                          | 2å±‚ç¥–å…ˆ                                                                                                                                  |
| `:depth-3`                        | æ·±åº¦3         | æ—                                          | `$doc->find(':depth-3')`                          | 3å±‚ç¥–å…ˆ                                                                                                                                  |
| **æ–‡æœ¬ç›¸å…³ä¼ªç±»**                        |
| `:text-node`                      | æ–‡æœ¬èŠ‚ç‚¹        | æ—                                          | `$doc->find(':text-node')`                        | æ–‡æœ¬èŠ‚ç‚¹                                                                                                                                  |
| `:comment-node`                   | æ³¨é‡ŠèŠ‚ç‚¹        | æ—                                          | `$doc->find(':comment-node')`                     | æ³¨é‡ŠèŠ‚ç‚¹                                                                                                                                  |
| `:whitespace`                     | ç©ºç™½æ–‡æœ¬        | æ—                                          | `$doc->find(':whitespace')`                       | ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹                                                                                                                                |
| `:non-whitespace`                 | éžç©ºç™½æ–‡æœ¬       | æ—                                          | `$doc->find(':non-whitespace')`                   | éžç©ºç™½æ–‡æœ¬                                                                                                                                 |
| `:text-length-gt(n)`              | æ–‡æœ¬é•¿åº¦å¤§äºŽ      | n: é•¿åº¦                                     | `$doc->find(':text-length-gt(10)')`               | æ–‡æœ¬é•¿åº¦>n                                                                                                                                |
| `:text-length-lt(n)`              | æ–‡æœ¬é•¿åº¦å°äºŽ      | n: é•¿åº¦                                     | `$doc->find(':text-length-lt(10)')`               | æ–‡æœ¬é•¿åº¦<n                                                                                                                                |
| `:text-length-eq(n)`              | æ–‡æœ¬é•¿åº¦ç­‰äºŽ      | n: é•¿åº¦                                     | `$doc->find(':text-length-eq(10)')`               | æ–‡æœ¬é•¿åº¦=n                                                                                                                                |
| `:text-length-between(start,end)` | æ–‡æœ¬é•¿åº¦èŒƒå›´      | start, end                                | `$doc->find(':text-length-between(5,10)')`        | æ–‡æœ¬é•¿åº¦åœ¨5-10ä¹‹é—´                                                                                                                           |
| **å­å…ƒç´ æ•°é‡ä¼ªç±»**                       |
| `:children-gt(n)`                 | å­å…ƒç´ å¤§äºŽ       | n: æ•°é‡                                     | `$doc->find(':children-gt(3)')`                   | å­å…ƒç´ æ•°>n                                                                                                                                |
| `:children-lt(n)`                 | å­å…ƒç´ å°äºŽ       | n: æ•°é‡                                     | `$doc->find(':children-lt(3)')`                   | å­å…ƒç´ æ•°<n                                                                                                                                |
| `:children-eq(n)`                 | å­å…ƒç´ ç­‰äºŽ       | n: æ•°é‡                                     | `$doc->find(':children-eq(3)')`                   | å­å…ƒç´ æ•°=n                                                                                                                                |
| **å±žæ€§æ•°é‡ä¼ªç±»**                        |
| `:attr-count-gt(n)`               | å±žæ€§æ•°å¤§äºŽ       | n: æ•°é‡                                     | `$doc->find(':attr-count-gt(3)')`                 | å±žæ€§æ•°>n                                                                                                                                 |
| `:attr-count-lt(n)`               | å±žæ€§æ•°å°äºŽ       | n: æ•°é‡                                     | `$doc->find(':attr-count-lt(3)')`                 | å±žæ€§æ•°<n                                                                                                                                 |
| `:attr-count-eq(n)`               | å±žæ€§æ•°ç­‰äºŽ       | n: æ•°é‡                                     | `$doc->find(':attr-count-eq(3)')`                 | å±žæ€§æ•°=n                                                                                                                                 |
| **å±žæ€§å€¼é•¿åº¦ä¼ªç±»**                       |
| `:attr-length-gt(attr,n)`         | å±žæ€§å€¼é•¿åº¦å¤§äºŽ     | attr: å±žæ€§å, n: é•¿åº¦                          | `$doc->find(':attr-length-gt(href,10)')`          | å±žæ€§å€¼é•¿åº¦>n                                                                                                                               |
| `:attr-length-lt(attr,n)`         | å±žæ€§å€¼é•¿åº¦å°äºŽ     | attr: å±žæ€§å, n: é•¿åº¦                          | `$doc->find(':attr-length-lt(href,10)')`          | å±žæ€§å€¼é•¿åº¦<n                                                                                                                               |
| `:attr-length-eq(attr,n)`         | å±žæ€§å€¼é•¿åº¦ç­‰äºŽ     | attr: å±žæ€§å, n: é•¿åº¦                          | `$doc->find(':attr-length-eq(href,10)')`          | å±žæ€§å€¼é•¿åº¦=n                                                                                                                               |
| **èŠ‚ç‚¹ç±»åž‹ä¼ªç±»**                        |
| `:element`                        | å…ƒç´ èŠ‚ç‚¹        | æ—                                          | `$doc->find(':element')`                          | å…ƒç´ èŠ‚ç‚¹                                                                                                                                  |
| `:cdata`                          | CDATAèŠ‚ç‚¹     | æ—                                          | `$doc->find(':cdata')`                            | CDATAèŠ‚ç‚¹                                                                                                                               |
| **æ·±åº¦èŒƒå›´ä¼ªç±»**                        |
| `:depth-between(start,end)`       | æ·±åº¦èŒƒå›´        | start, end                                | `$doc->find(':depth-between(1,3)')`               | æ·±åº¦åœ¨1-3ä¹‹é—´                                                                                                                              |
| **æ–‡æœ¬å†…å®¹åŒ¹é…ä¼ªç±»**                      |
| `:text-match(pattern)`            | æ–‡æœ¬åŒ¹é…        | pattern: æ­£åˆ™æ¨¡å¼                             | `$doc->find(':text-match(^test)')`                | æ–‡æœ¬åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼                                                                                                                             |
| **å±žæ€§å€¼åŒ¹é…ä¼ªç±»**                       |
| `:attr-match(attr,pattern)`       | å±žæ€§å€¼åŒ¹é…       | attr: å±žæ€§å, pattern: æ­£åˆ™æ¨¡å¼                  | `$doc->find(':attr-match(href,^http)')`           | å±žæ€§å€¼åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼                                                                                                                            |
| `:data(name)`                     | dataå±žæ€§      | name: dataå                               | `$doc->find(':data(id)')`                         | data-*å±žæ€§                                                                                                                              |
| **è¡¨å•éªŒè¯ä¼ªç±»**                        |
| `:in-range`                       | åœ¨èŒƒå›´å†…        | æ—                                          | `$doc->find(':in-range')`                         | å€¼åœ¨min-maxé—´                                                                                                                            |
| `:out-of-range`                   | è¶…å‡ºèŒƒå›´        | æ—                                          | `$doc->find(':out-of-range')`                     | å€¼è¶…å‡ºèŒƒå›´                                                                                                                                 |
| `:indeterminate`                  | ä¸ç¡®å®š         | æ—                                          | `$doc->find(':indeterminate')`                    | çŠ¶æ€ä¸ç¡®å®š                                                                                                                                 |
| `:placeholder-shown`              | æ˜¾ç¤ºå ä½ç¬¦       | æ—                                          | `$doc->find(':placeholder-shown')`                | æ˜¾ç¤ºå ä½ç¬¦                                                                                                                                 |
| `:default`                        | é»˜è®¤          | æ—                                          | `$doc->find(':default')`                          | é»˜è®¤é€‰é¡¹                                                                                                                                  |
| `:valid`                          | æœ‰æ•ˆ          | æ—                                          | `$doc->find(':valid')`                            | éªŒè¯é€šè¿‡                                                                                                                                  |
| `:invalid`                        | æ— æ•ˆ          | æ—                                          | `$doc->find(':invalid')`                          | éªŒè¯å¤±è´¥                                                                                                                                  |
| `:user-invalid`                   | ç”¨æˆ·éªŒè¯å¤±è´¥      | æ—                                          | `$doc->find(':user-invalid')`                     | ç”¨æˆ·éªŒè¯å¤±è´¥                                                                                                                                |
| `:user-valid`                     | ç”¨æˆ·éªŒè¯é€šè¿‡      | æ—                                          | `$doc->find(':user-valid')`                       | ç”¨æˆ·éªŒè¯é€šè¿‡                                                                                                                                |
| `:autofill`                       | è‡ªåŠ¨å¡«å……        | æ—                                          | `$doc->find(':autofill')`                         | æµè§ˆå™¨è‡ªåŠ¨å¡«å……                                                                                                                               |
| **ä¼ªå…ƒç´ **                           |
| `::text`                          | æ–‡æœ¬å†…å®¹        | æ—                                          | `$doc->text('div::text')`                         | èŽ·å–æ–‡æœ¬                                                                                                                                  |
| `::attr(name)`                    | å±žæ€§å€¼         | name: å±žæ€§å                                 | `$doc->text('a::attr(href)')`                     | èŽ·å–å±žæ€§                                                                                                                                  |


**æ€»è®¡**: 160+ ç§é€‰æ‹©å™¨å’Œä¾¿æ·æ–¹æ³•ï¼ˆåŒ…æ‹¬ä¾¿æ·æŸ¥æ‰¾æ–¹æ³•11ç§ã€é€‰æ‹©å™¨ç±»åž‹æ£€æµ‹æ–¹æ³•3ç§ã€XPathä¾¿æ·æ–¹æ³•4ç§ã€æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•6ç§ã€åŸºç¡€é€‰æ‹©å™¨9ç§ã€å±žæ€§é€‰æ‹©å™¨7ç§ã€ç»“æž„ä¼ªç±»10ç§ã€å†…å®¹ä¼ªç±»9ç§ã€æ–‡æ¡£çŠ¶æ€ä¼ªç±»2ç§ã€è¡¨å•ä¼ªç±»8ç§ã€è¡¨å•å…ƒç´ ç±»åž‹24ç§ã€HTMLå…ƒç´ ä¼ªç±»19ç§ã€HTML5ç»“æž„å…ƒç´ 24ç§ã€ä½ç½®ä¼ªç±»11ç§ã€å¯è§æ€§ä¼ªç±»2ç§ã€ç”¨æˆ·äº¤äº’ä¼ªç±»3ç§ã€è¯­è¨€æ–¹å‘ä¼ªç±»4ç§ã€æ·±åº¦ä¼ªç±»5ç§ã€æ–‡æœ¬ç›¸å…³ä¼ªç±»11ç§ã€å†…å®¹åŒ¹é…ä¼ªç±»3ç§ã€èŠ‚ç‚¹ç±»åž‹ä¼ªç±»4ç§ã€å­å…ƒç´ æ•°é‡ä¼ªç±»3ç§ã€å±žæ€§æ•°é‡ä¼ªç±»3ç§ã€å±žæ€§åŒ¹é…æ‰©å±•5ç§ã€å±žæ€§å€¼é•¿åº¦ä¼ªç±»3ç§ã€è¡¨å•éªŒè¯ä¼ªç±»9ç§ã€è¡¨å•éªŒè¯æ‰©å±•ä¼ªç±»2ç§ã€æ·±åº¦èŒƒå›´ä¼ªç±»1ç§ã€æ–‡æœ¬å†…å®¹åŒ¹é…ä¼ªç±»1ç§ã€å±žæ€§å€¼åŒ¹é…ä¼ªç±»1ç§ã€ä¼ªå…ƒç´ 2ç§ï¼‰

**æ ¸å¿ƒç‰¹æ€§**:
1. **é€‰æ‹©å™¨æ•°ç»„å›žé€€æŸ¥æ‰¾**: æ”¯æŒä¼ å…¥å¤šä¸ªé€‰æ‹©å™¨æŒ‰é¡ºåºå°è¯•ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªéžç©ºç»“æžœå³è¿”å›ž
2. **æ™ºèƒ½ç±»åž‹æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ« CSSã€XPath å’Œæ­£åˆ™è¡¨è¾¾å¼ç±»åž‹
3. **å…¨è·¯å¾„é€‰æ‹©å™¨æ”¯æŒ**: æ”¯æŒ CSS å’Œ XPath çš„å…¨è·¯å¾„è¯­æ³•ï¼Œå®žçŽ°ç²¾ç¡®å®šä½
4. **XPath 1.0 å®Œæ•´æ”¯æŒ**: åŒ…æ‹¬æ‰€æœ‰æ ‡å‡†å‡½æ•°ã€è½´å’ŒèŠ‚ç‚¹æµ‹è¯•
5. **æ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©å™¨**: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ–‡æœ¬å’Œå±žæ€§
6. **é€‰æ‹©å™¨ç¼–è¯‘ç¼“å­˜**: è‡ªåŠ¨ç¼“å­˜ç¼–è¯‘ç»“æžœï¼Œæå‡æ€§èƒ½
7. **æ··åˆè·¯å¾„é€‰æ‹©**: æ”¯æŒ CSS å’Œ XPath çš„æ··åˆä½¿ç”¨
8. **150+ ç§é€‰æ‹©å™¨**: è¦†ç›– CSS3ã€XPath å’Œè‡ªå®šä¹‰é€‰æ‹©å™¨
9. **å¼ºå¤§çš„ä¾¿æ·æ–¹æ³•**: æä¾›å¤šç§ç®€åŒ–çš„æŸ¥è¯¢æŽ¥å£ï¼Œæå‡å¼€å‘æ•ˆçŽ‡



---

## CSS åŸºç¡€é€‰æ‹©å™¨

### 1. é€šé…ç¬¦é€‰æ‹©å™¨ `*`

| é€‰æ‹©å™¨ | ç±»åž‹  | è¯´æ˜Ž     | ä½¿ç”¨ç¤ºä¾‹              |
|-----|-----|--------|-------------------|
| `*` | é€šé…ç¬¦ | åŒ¹é…æ‰€æœ‰å…ƒç´  | `$doc->find('*')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><p>æ–‡æœ¬</p><span>å†…å®¹</span></div>');
$all = $doc->find('*'); // åŒ¹é… div, p, span
echo count($all); // è¾“å‡º: 3
```


---

### 2. æ ‡ç­¾é€‰æ‹©å™¨ `tag`

| é€‰æ‹©å™¨   | ç±»åž‹ | å‚æ•°                    | è¯´æ˜Ž         | ä½¿ç”¨ç¤ºä¾‹                |
|-------|----|-----------------------|------------|---------------------|
| `tag` | æ ‡ç­¾ | tag: æ ‡ç­¾åï¼ˆå¦‚ div, p, aï¼‰ | åŒ¹é…æŒ‡å®šæ ‡ç­¾åçš„å…ƒç´  | `$doc->find('div')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>1</div><p>2</p><div>3</div>');
$divs = $doc->find('div');
echo count($divs); // è¾“å‡º: 2
```


---

### 3. ç±»é€‰æ‹©å™¨ `.class`

| é€‰æ‹©å™¨      | ç±»åž‹ | å‚æ•°        | è¯´æ˜Ž         | ä½¿ç”¨ç¤ºä¾‹                  |
|----------|----|-----------|------------|-----------------------|
| `.class` | ç±»  | class: ç±»å | åŒ¹é…å…·æœ‰æŒ‡å®šç±»çš„å…ƒç´  | `$doc->find('.item')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div class="item">1</div><div class="container">2</div>');
$items = $doc->find('.item');
echo count($items); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- ä¸€ä¸ªå…ƒç´ å¯ä»¥æœ‰å¤šä¸ªç±»ï¼Œ`.class` ä¼šåŒ¹é…æ‰€æœ‰åŒ…å«è¯¥ç±»çš„å…ƒç´ 
- å¤šä¸ªç±»é€‰æ‹©å™¨å¯ä»¥è¿žç”¨ï¼š`.class1.class2`ï¼ˆåŒ¹é…åŒæ—¶æ‹¥æœ‰ class1 å’Œ class2 çš„å…ƒç´ ï¼‰


---

### 4. ID é€‰æ‹©å™¨ `#id`

| é€‰æ‹©å™¨   | ç±»åž‹ | å‚æ•°        | è¯´æ˜Ž            | ä½¿ç”¨ç¤ºä¾‹                       |
|-------|----|-----------|---------------|----------------------------|
| `#id` | ID | id: ID åç§° | åŒ¹é…å…·æœ‰æŒ‡å®š ID çš„å…ƒç´  | `$doc->find('#container')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div id="main">ä¸»å†…å®¹</div>');
$main = $doc->find('#main');
echo $main[0]->text(); // è¾“å‡º: ä¸»å†…å®¹
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åœ¨ HTML ä¸­ï¼ŒID åº”è¯¥æ˜¯å”¯ä¸€çš„
- å¦‚æžœæœ‰å¤šä¸ªå…ƒç´ ä½¿ç”¨ç›¸åŒ IDï¼Œåªè¿”å›žç¬¬ä¸€ä¸ª


---

### 5. å¤šé€‰æ‹©å™¨ `selector1, selector2`

| é€‰æ‹©å™¨      | ç±»åž‹ | å‚æ•°                  | è¯´æ˜Ž           | ä½¿ç”¨ç¤ºä¾‹                         |
|----------|----|---------------------|--------------|------------------------------|
| `s1, s2` | å¤šé€‰ | s1, s2: å¤šä¸ªé€‰æ‹©å™¨ï¼Œç”¨é€—å·åˆ†éš” | åŒ¹é…ä»»æ„ä¸€ä¸ªé€‰æ‹©å™¨çš„å…ƒç´  | `$doc->find('div, p, span')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>1</div><p>2</p><span>3</span><a>4</a>');
$elements = $doc->find('div, p, span');
echo count($elements); // è¾“å‡º: 3
```


---

### 6. åŽä»£é€‰æ‹©å™¨ `selector1 selector2`

| é€‰æ‹©å™¨     | ç±»åž‹ | å‚æ•°                 | è¯´æ˜Ž             | ä½¿ç”¨ç¤ºä¾‹                  |
|---------|----|--------------------|----------------|-----------------------|
| `s1 s2` | åŽä»£ | s1: çˆ¶é€‰æ‹©å™¨, s2: å­é€‰æ‹©å™¨ | åŒ¹é… s1 çš„æ‰€æœ‰åŽä»£ s2 | `$doc->find('div p')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><p>1</p><span><p>2</p></span></div>');
$ps = $doc->find('div p');
echo count($ps); // è¾“å‡º: 2ï¼ˆåŒ…æ‹¬åµŒå¥—åœ¨ span ä¸­çš„ pï¼‰
```


---

### 7. ç›´æŽ¥å­ä»£é€‰æ‹©å™¨ `selector1 > selector2`

| é€‰æ‹©å™¨       | ç±»åž‹ | å‚æ•°                 | è¯´æ˜Ž              | ä½¿ç”¨ç¤ºä¾‹                    |
|-----------|----|--------------------|-----------------|-------------------------|
| `s1 > s2` | å­ä»£ | s1: çˆ¶é€‰æ‹©å™¨, s2: å­é€‰æ‹©å™¨ | åŒ¹é… s1 çš„ç›´æŽ¥å­å…ƒç´  s2 | `$doc->find('ul > li')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li><span>2</span></li></ul>');
$spans = $doc->find('ul > li > span');
echo count($spans); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åªåŒ¹é…ç›´æŽ¥å­å…ƒç´ ï¼Œä¸åŒ…æ‹¬åŽä»£å…ƒç´ 
- è¿™æ˜¯æ¯”åŽä»£é€‰æ‹©å™¨æ›´ç²¾ç¡®çš„é€‰æ‹©å™¨


---

### 8. ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ `selector1 + selector2`

| é€‰æ‹©å™¨       | ç±»åž‹ | å‚æ•°                   | è¯´æ˜Ž              | ä½¿ç”¨ç¤ºä¾‹                   |
|-----------|----|----------------------|-----------------|------------------------|
| `s1 + s2` | å…„å¼Ÿ | s1: å‰ä¸€ä¸ªå…ƒç´ , s2: åŽä¸€ä¸ªå…ƒç´  | åŒ¹é…ç´§æŽ¥åœ¨ s1 åŽé¢çš„ s2 | `$doc->find('h2 + p')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<h2>æ ‡é¢˜</h2><p>æ®µè½1</p><p>æ®µè½2</p>');
$firstP = $doc->find('h2 + p');
echo count($firstP); // è¾“å‡º: 1ï¼ˆåªåŒ¹é…ç¬¬ä¸€ä¸ª pï¼‰
```


---

### 9. é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨ `selector1 ~ selector2`

| é€‰æ‹©å™¨       | ç±»åž‹ | å‚æ•°                    | è¯´æ˜Ž               | ä½¿ç”¨ç¤ºä¾‹                   |
|-----------|----|-----------------------|------------------|------------------------|
| `s1 ~ s2` | å…„å¼Ÿ | s1: å‰ä¸€ä¸ªå…ƒç´ , s2: åŽé¢æ‰€æœ‰å…ƒç´  | åŒ¹é… s1 åŽé¢çš„æ‰€æœ‰å…„å¼Ÿ s2 | `$doc->find('h2 ~ p')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<h2>æ ‡é¢˜</h2><p>æ®µè½1</p><p>æ®µè½2</p>');
$allPs = $doc->find('h2 ~ p');
echo count($allPs); // è¾“å‡º: 2ï¼ˆåŒ¹é…æ‰€æœ‰åœ¨ h2 åŽçš„ pï¼‰
```


---

## CSS å±žæ€§é€‰æ‹©å™¨

### 1. å­˜åœ¨å±žæ€§ `[attr]`

| é€‰æ‹©å™¨      | ç±»åž‹   | å‚æ•°        | è¯´æ˜Ž          | ä½¿ç”¨ç¤ºä¾‹                   |
|----------|------|-----------|-------------|------------------------|
| `[attr]` | å±žæ€§å­˜åœ¨ | attr: å±žæ€§å | åŒ¹é…å…·æœ‰æŒ‡å®šå±žæ€§çš„å…ƒç´  | `$doc->find('[href]')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<a href="https://example.com">é“¾æŽ¥</a><span>æ–‡æœ¬</span>');
$links = $doc->find('[href]');
echo count($links); // è¾“å‡º: 1
```


---

### 2. å±žæ€§å€¼ç­‰äºŽ `[attr=value]`

| é€‰æ‹©å™¨ | ç±»åž‹ | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|--------|------|------|------|----------|
| `[attr=value]` | ç­‰äºŽ | attr: å±žæ€§å, value: å±žæ€§å€¼ | åŒ¹é…å±žæ€§å€¼å®Œå…¨ç­‰äºŽæŒ‡å®šå€¼çš„å…ƒç´  | `$doc->find('[data-id="123"]')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div data-id="123">1</div><div data-id="456">2</div>');
$items = $doc->find('[data-id="123"]');
echo count($items); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- å€¼åŒºåˆ†å¤§å°å†™ï¼ˆåœ¨ HTML ä¸­ï¼‰
- å¦‚æžœå€¼åŒ…å«ç©ºæ ¼ï¼Œéœ€è¦ç”¨å¼•å·åŒ…è£¹


---

### 3. å±žæ€§å€¼åŒ…å«å•è¯ `[attr~=value]`

| é€‰æ‹©å™¨             | ç±»åž‹   | å‚æ•°                   | è¯´æ˜Ž                   | ä½¿ç”¨ç¤ºä¾‹                              |
|-----------------|------|----------------------|----------------------|-----------------------------------|
| `[attr~=value]` | åŒ…å«å•è¯ | attr: å±žæ€§å, value: å•è¯ | åŒ¹é…å±žæ€§å€¼åŒ…å«æŒ‡å®šå•è¯ï¼ˆç©ºæ ¼åˆ†éš”ï¼‰çš„å…ƒç´  | `$doc->find('[class~="active"]')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div class="item active">1</div><div class="item-active">2</div>');
$active = $doc->find('[class~="active"]');
echo count($active); // è¾“å‡º: 1ï¼ˆåªåŒ¹é…ç¬¬ä¸€ä¸ªï¼‰
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åŒ¹é…ç”±ç©ºæ ¼åˆ†éš”çš„å®Œæ•´å•è¯
- ä¸åŒ¹é…éƒ¨åˆ†åŒ¹é…ï¼ˆå¦‚ "item-active" ä¸ä¼šåŒ¹é… "active"ï¼‰


---

### 4. å±žæ€§å€¼ç­‰äºŽæˆ–å‰ç¼€ `[attr|=value]`

| é€‰æ‹©å™¨              | ç±»åž‹    | å‚æ•°                     | è¯´æ˜Ž                       | ä½¿ç”¨ç¤ºä¾‹                          |
|------------------|-------|------------------------|--------------------------|-------------------------------|
| `[attr\|=value]` | ç­‰äºŽæˆ–å‰ç¼€ | attr: å±žæ€§å, value: å€¼æˆ–å‰ç¼€ | åŒ¹é…å±žæ€§å€¼ç­‰äºŽæŒ‡å®šå€¼æˆ–ä»¥æŒ‡å®šå€¼åŠ è¿žå­—ç¬¦å¼€å¤´çš„å…ƒç´  | `$doc->find('[lang\|="en"]')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div lang="en">English</div><div lang="en-US">US</div><div lang="fr">French</div>');
$en = $doc->find('[lang|="en"]');
echo count($en); // è¾“å‡º: 2ï¼ˆåŒ¹é… en å’Œ en-USï¼‰
```

**ç”¨é€”ï¼š**
- å¸¸ç”¨äºŽè¯­è¨€é€‰æ‹©ï¼ˆlang å±žæ€§ï¼‰
- åŒ¹é…è¯­è¨€ä»£ç åŠå…¶å˜ä½“


---

### 5. å±žæ€§å€¼ä»¥...å¼€å¤´ `[attr^=value]`

| é€‰æ‹©å™¨             | ç±»åž‹   | å‚æ•°                      | è¯´æ˜Ž               | ä½¿ç”¨ç¤ºä¾‹                            |
|-----------------|------|-------------------------|------------------|---------------------------------|
| `[attr^=value]` | å¼€å¤´åŒ¹é… | attr: å±žæ€§å, value: å¼€å¤´å­—ç¬¦ä¸² | åŒ¹é…å±žæ€§å€¼ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´çš„å…ƒç´  | `$doc->find('[href^="https"]')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<a href="https://example.com">HTTPS</a><a href="http://example.com">HTTP</a>');
$httpsLinks = $doc->find('[href^="https"]');
echo count($httpsLinks); // è¾“å‡º: 1
```


---

### 6. å±žæ€§å€¼ä»¥...ç»“å°¾ `[attr$=value]`

| é€‰æ‹©å™¨             | ç±»åž‹   | å‚æ•°                      | è¯´æ˜Ž               | ä½¿ç”¨ç¤ºä¾‹                          |
|-----------------|------|-------------------------|------------------|-------------------------------|
| `[attr$=value]` | ç»“å°¾åŒ¹é… | attr: å±žæ€§å, value: ç»“å°¾å­—ç¬¦ä¸² | åŒ¹é…å±žæ€§å€¼ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾çš„å…ƒç´  | `$doc->find('[src$=".jpg"]')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<img src="image1.jpg"><img src="image2.png"><img src="image3.jpg">');
$jpgImages = $doc->find('[src$=".jpg"]');
echo count($jpgImages); // è¾“å‡º: 2
```


---

### 7. å±žæ€§å€¼åŒ…å« `[attr*=value]`

| é€‰æ‹©å™¨ | ç±»åž‹ | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|--------|------|------|------|----------|
| `[attr*=value]` | åŒ…å«åŒ¹é… | attr: å±žæ€§å, value: åŒ…å«å­—ç¬¦ä¸² | åŒ¹é…å±žæ€§å€¼åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„å…ƒç´  | `$doc->find('[class*="nav"]')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div class="main-nav">1</div><div class="nav-item">2</div><div class="content">3</div>');
$nav = $doc->find('[class*="nav"]');
echo count($nav); // è¾“å‡º: 2
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åŒ¹é…ä»»æ„ä½ç½®çš„å­å­—ç¬¦ä¸²
- ä¸åŒºåˆ†å¤§å°å†™ï¼ˆåœ¨æŸäº›æµè§ˆå™¨ä¸­ï¼Œä½†è¿™é‡ŒåŒºåˆ†ï¼‰


---

## CSS ç»“æž„ä¼ªç±»

### 1. ç¬¬ä¸€ä¸ªå­å…ƒç´  `:first-child`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:first-child` | ç»“æž„ | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„å…ƒç´  | `$doc->find('li:first-child')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li></ul>');
$first = $doc->find('li:first-child');
echo $first[0]->text(); // è¾“å‡º: 1
```


---

### 2. æœ€åŽä¸€ä¸ªå­å…ƒç´  `:last-child`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:last-child` | ç»“æž„ | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ çš„æœ€åŽä¸€ä¸ªå­å…ƒç´ çš„å…ƒç´  | `$doc->find('li:last-child')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li></ul>');
$last = $doc->find('li:last-child');
echo $last[0]->text(); // è¾“å‡º: 3
```


---

### 3. å”¯ä¸€å­å…ƒç´  `:only-child`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:only-child` | ç»“æž„ | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ çš„å”¯ä¸€å­å…ƒç´ çš„å…ƒç´  | `$doc->find('div:only-child')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><span>å”¯ä¸€</span></div><div><span>A</span><span>B</span></div>');
$only = $doc->find('span:only-child');
echo count($only); // è¾“å‡º: 1
```


---

### 4. ç¬¬ n ä¸ªå­å…ƒç´  `:nth-child(n)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:nth-child(n)` | n: æ•°å­—ã€oddã€evenã€an+b | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ çš„ç¬¬ n ä¸ªå­å…ƒç´ çš„å…ƒç´  | `$doc->find('li:nth-child(2)')` |

**å‚æ•°è¯´æ˜Žï¼š**
- æ•°å­—ï¼šå¦‚ `2`ã€`3`ï¼ŒåŒ¹é…ç¬¬å‡ ä¸ªå­å…ƒç´ 
- `odd`ï¼šåŒ¹é…å¥‡æ•°ä½ç½®çš„å­å…ƒç´ ï¼ˆ1, 3, 5...ï¼‰
- `even`ï¼šåŒ¹é…å¶æ•°ä½ç½®çš„å­å…ƒç´ ï¼ˆ2, 4, 6...ï¼‰
- `an+b`ï¼šå¦‚ `2n+1`ã€`3n+2`ï¼ŒåŒ¹é…ç¬¦åˆå…¬å¼çš„å­å…ƒç´ 

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul>');
$second = $doc->find('li:nth-child(2)');
echo $second[0]->text(); // è¾“å‡º: 2

$odd = $doc->find('li:nth-child(odd)');
echo count($odd); // è¾“å‡º: 3ï¼ˆ1, 3, 5ï¼‰

$even = $doc->find('li:nth-child(even)');
echo count($even); // è¾“å‡º: 2ï¼ˆ2, 4ï¼‰

$custom = $doc->find('li:nth-child(2n+1)');
echo count($custom); // è¾“å‡º: 3ï¼ˆ1, 3, 5ï¼‰
```


---

### 5. å€’æ•°ç¬¬ n ä¸ªå­å…ƒç´  `:nth-last-child(n)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:nth-last-child(n)` | n: æ•°å­—ã€oddã€evenã€an+b | åŒ¹é…ä»ŽåŽå¾€å‰æ•°çš„ç¬¬ n ä¸ªå­å…ƒç´  | `$doc->find('li:nth-last-child(2)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul>');
$secondLast = $doc->find('li:nth-last-child(2)');
echo $secondLast[0]->text(); // è¾“å‡º: 4
```


---

### 6. ç¬¬ä¸€ä¸ªåŒç±»åž‹å­å…ƒç´  `:first-of-type`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:first-of-type` | ç»“æž„ | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ çš„ç¬¬ä¸€ä¸ªåŒç±»åž‹å­å…ƒç´  | `$doc->find('p:first-of-type')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><h2>æ ‡é¢˜</h2><p>æ®µè½1</p><p>æ®µè½2</p></div>');
$firstP = $doc->find('p:first-of-type');
echo $firstP[0]->text(); // è¾“å‡º: æ®µè½1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åªè€ƒè™‘åŒç±»åž‹çš„å…ƒç´ 
- å¦‚æžœæœ‰å¤šä¸ªä¸åŒç±»åž‹çš„å…ƒç´ ï¼Œæ¯ç§ç±»åž‹éƒ½ä¼šæœ‰ä¸€ä¸ª first-of-type


---

### 7. æœ€åŽä¸€ä¸ªåŒç±»åž‹å­å…ƒç´  `:last-of-type`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:last-of-type` | ç»“æž„ | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ çš„æœ€åŽä¸€ä¸ªåŒç±»åž‹å­å…ƒç´  | `$doc->find('p:last-of-type')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><h2>æ ‡é¢˜</h2><p>æ®µè½1</p><p>æ®µè½2</p></div>');
$lastP = $doc->find('p:last-of-type');
echo $lastP[0]->text(); // è¾“å‡º: æ®µè½2
```


---

### 8. ç¬¬ n ä¸ªåŒç±»åž‹å­å…ƒç´  `:nth-of-type(n)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:nth-of-type(n)` | n: æ•°å­—ã€oddã€evenã€an+b | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ çš„ç¬¬ n ä¸ªåŒç±»åž‹å­å…ƒç´  | `$doc->find('p:nth-of-type(2)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><h2>æ ‡é¢˜</h2><p>æ®µè½1</p><p>æ®µè½2</p><p>æ®µè½3</p></div>');
$secondP = $doc->find('p:nth-of-type(2)');
echo $secondP[0]->text(); // è¾“å‡º: æ®µè½2
```


---

### 9. å€’æ•°ç¬¬ n ä¸ªåŒç±»åž‹å­å…ƒç´  `:nth-last-of-type(n)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:nth-last-of-type(n)` | n: æ•°å­—ã€oddã€evenã€an+b | åŒ¹é…ä»ŽåŽå¾€å‰æ•°çš„ç¬¬ n ä¸ªåŒç±»åž‹å­å…ƒç´  | `$doc->find('p:nth-last-of-type(2)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><h2>æ ‡é¢˜</h2><p>æ®µè½1</p><p>æ®µè½2</p><p>æ®µè½3</p></div>');
$secondLastP = $doc->find('p:nth-last-of-type(2)');
echo $secondLastP[0]->text(); // è¾“å‡º: æ®µè½2
```


---

### 10. å”¯ä¸€åŒç±»åž‹å­å…ƒç´  `:only-of-type`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:only-of-type` | ç»“æž„ | åŒ¹é…ä½œä¸ºå…¶çˆ¶å…ƒç´ çš„å”¯ä¸€åŒç±»åž‹å­å…ƒç´  | `$doc->find('div:only-of-type')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><p>æ®µè½</p></div><div><h2>æ ‡é¢˜</h2><h2>å‰¯æ ‡é¢˜</h2></div>');
$onlyP = $doc->find('p:only-of-type');
echo count($onlyP); // è¾“å‡º: 1
```


---

## CSS å†…å®¹ä¼ªç±»

### 1. ç©ºå…ƒç´  `:empty`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:empty` | å†…å®¹ | åŒ¹é…æ²¡æœ‰ä»»ä½•å­å…ƒç´ æˆ–æ–‡æœ¬çš„å…ƒç´  | `$doc->find('div:empty')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div></div><div>æ–‡æœ¬</div>');
$empty = $doc->find('div:empty');
echo count($empty); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- ä¸åŒ…å«å­å…ƒç´ 
- ä¸åŒ…å«æ–‡æœ¬å†…å®¹ï¼ˆåŒ…æ‹¬ç©ºç™½å­—ç¬¦ï¼‰


---

### 2. åŒ…å«æ–‡æœ¬ `:contains(text)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:contains(text)` | text: è¦æŸ¥æ‰¾çš„æ–‡æœ¬ | åŒ¹é…åŒ…å«æŒ‡å®šæ–‡æœ¬çš„å…ƒç´ ï¼ˆåŒ…æ‹¬å­å…ƒç´ æ–‡æœ¬ï¼‰ | `$doc->find('div:contains(Hello)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><p>Hello World</p></div>');
$matched = $doc->find('div:contains(Hello)');
echo count($matched); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- æœç´¢åŒ…æ‹¬æ‰€æœ‰å­å…ƒç´ çš„æ–‡æœ¬å†…å®¹
- åŒºåˆ†å¤§å°å†™
- ä¸åŒ¹é… HTML æ ‡ç­¾æˆ–å±žæ€§


---

### 3. ç›´æŽ¥åŒ…å«æ–‡æœ¬ `:contains-text(text)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:contains-text(text)` | text: è¦æŸ¥æ‰¾çš„æ–‡æœ¬ | åŒ¹é…ç›´æŽ¥åŒ…å«æŒ‡å®šæ–‡æœ¬çš„å…ƒç´ ï¼ˆä¸åŒ…æ‹¬å­å…ƒç´ ï¼‰ | `$doc->find('div:contains-text(World)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>Hello <span>World</span></div>');
$matched = $doc->find('div:contains-text(World)');
echo count($matched); // è¾“å‡º: 0ï¼ˆWorld åœ¨ span ä¸­ï¼Œä¸åœ¨ div ç›´æŽ¥æ–‡æœ¬ä¸­ï¼‰
```


---

### 4. æ–‡æœ¬ä»¥...å¼€å¤´ `:starts-with(text)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:starts-with(text)` | text: å¼€å¤´æ–‡æœ¬ | åŒ¹é…æ–‡æœ¬ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´çš„å…ƒç´  | `$doc->find('div:starts-with(Hello)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>Hello World</div>');
$matched = $doc->find('div:starts-with(Hello)');
echo count($matched); // è¾“å‡º: 1
```


---

### 5. æ–‡æœ¬ä»¥...ç»“å°¾ `:ends-with(text)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:ends-with(text)` | text: ç»“å°¾æ–‡æœ¬ | åŒ¹é…æ–‡æœ¬ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾çš„å…ƒç´  | `$doc->find('div:ends-with(World)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>Hello World</div>');
$matched = $doc->find('div:ends-with(World)');
echo count($matched); // è¾“å‡º: 1
```


---

### 6. åŒ…å«åŽä»£å…ƒç´  `:has(selector)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:has(selector)` | selector: é€‰æ‹©å™¨ | åŒ¹é…åŒ…å«åŒ¹é…æŒ‡å®šé€‰æ‹©å™¨åŽä»£å…ƒç´ çš„å…ƒç´  | `$doc->find('div:has(a)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><a>é“¾æŽ¥</a></div><div>çº¯æ–‡æœ¬</div>');
$hasLink = $doc->find('div:has(a)');
echo count($hasLink); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åŒ¹é…åŒ…å«æŒ‡å®šåŽä»£å…ƒç´ çš„çˆ¶å…ƒç´ 
- å¯ä»¥åµŒå¥—ä½¿ç”¨


---

### 7. ä¸åŒ¹é…é€‰æ‹©å™¨ `:not(selector)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:not(selector)` | selector: é€‰æ‹©å™¨ | åŒ¹é…ä¸åŒ¹é…æŒ‡å®šé€‰æ‹©å™¨çš„å…ƒç´  | `$doc->find('div:not(.active)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div class="active">1</div><div class="inactive">2</div>');
$inactive = $doc->find('div:not(.active)');
echo count($inactive); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- å¯ä»¥ä¸Žå…¶ä»–é€‰æ‹©å™¨ç»„åˆä½¿ç”¨
- ä¸æ”¯æŒå¤æ‚é€‰æ‹©å™¨ä½œä¸ºå‚æ•°


---

### 8. ç©ºç™½å…ƒç´  `:blank`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:blank` | å†…å®¹ | åŒ¹é…ç©ºç™½å…ƒç´ ï¼ˆæ— å¯è§æ–‡æœ¬æˆ–å­å…ƒç´ ï¼‰ | `$doc->find('p:blank')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<p>   </p><p>æ–‡æœ¬</p>');
$blank = $doc->find('p:blank');
echo count($blank); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- ä¸Ž `:empty` ä¸åŒï¼Œ`:blank` å…è®¸ç©ºç™½å­—ç¬¦
- åªæ£€æŸ¥å¯è§å†…å®¹


---

### 9. åªæœ‰æ–‡æœ¬å†…å®¹ `:parent-only-text`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:parent-only-text` | å†…å®¹ | åŒ¹é…åªæœ‰æ–‡æœ¬å†…å®¹æ²¡æœ‰å­å…ƒç´ çš„å…ƒç´  | `$doc->find('div:parent-only-text')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>çº¯æ–‡æœ¬</div><div><span>å­å…ƒç´ </span></div>');
$onlyText = $doc->find('div:parent-only-text');
echo count($onlyText); // è¾“å‡º: 1
```


---

## CSS è¡¨å•ä¼ªç±»

### 1. å¯ç”¨çš„å…ƒç´  `:enabled`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:enabled` | è¡¨å•çŠ¶æ€ | åŒ¹é…å¯ç”¨çš„è¡¨å•å…ƒç´  | `$doc->find(':enabled')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="text"><input type="text" disabled>');
$enabled = $doc->find('input:enabled');
echo count($enabled); // è¾“å‡º: 1
```


---

### 2. ç¦ç”¨çš„å…ƒç´  `:disabled`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:disabled` | è¡¨å•çŠ¶æ€ | åŒ¹é…ç¦ç”¨çš„è¡¨å•å…ƒç´  | `$doc->find(':disabled')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="text"><input type="text" disabled>');
$disabled = $doc->find('input:disabled');
echo count($disabled); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åŒ¹é… `disabled` å±žæ€§ï¼ˆå¯ä»¥æ˜¯ `disabled` æˆ– `disabled="disabled"`ï¼‰


---

### 3. é€‰ä¸­çš„å…ƒç´  `:checked`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:checked` | è¡¨å•çŠ¶æ€ | åŒ¹é…è¢«é€‰ä¸­çš„å¤é€‰æ¡†æˆ–å•é€‰æŒ‰é’® | `$doc->find(':checked')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="checkbox" checked><input type="checkbox">');
$checked = $doc->find('input:checked');
echo count($checked); // è¾“å‡º: 1
```


---

### 4. é€‰ä¸­çš„é€‰é¡¹ `:selected`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:selected` | è¡¨å•çŠ¶æ€ | åŒ¹é…è¢«é€‰ä¸­çš„é€‰é¡¹ | `$doc->find('option:selected')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<select><option>1</option><option selected>2</option></select>');
$selected = $doc->find('option:selected');
echo count($selected); // è¾“å‡º: 1
```


---

### 5. å¿…å¡«å­—æ®µ `:required`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:required` | è¡¨å•çŠ¶æ€ | åŒ¹é…å¿…å¡«å­—æ®µ | `$doc->find(':required')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="text" required><input type="text">');
$required = $doc->find('input:required');
echo count($required); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åŒ¹é… `required` å±žæ€§ï¼ˆå¯ä»¥æ˜¯ `required` æˆ– `required="required"`ï¼‰


---

### 6. å¯é€‰å­—æ®µ `:optional`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:optional` | è¡¨å•çŠ¶æ€ | åŒ¹é…å¯é€‰å­—æ®µ | `$doc->find(':optional')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="text" required><input type="text">');
$optional = $doc->find('input:optional');
echo count($optional); // è¾“å‡º: 1
```


---

### 7. åªè¯»å­—æ®µ `:read-only`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:read-only` | è¡¨å•çŠ¶æ€ | åŒ¹é…åªè¯»å­—æ®µ | `$doc->find(':read-only')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="text" readonly><input type="text">');
$readOnly = $doc->find('input:read-only');
echo count($readOnly); // è¾“å‡º: 1
```


---

### 8. å¯å†™å­—æ®µ `:read-write`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:read-write` | è¡¨å•çŠ¶æ€ | åŒ¹é…å¯å†™å­—æ®µ | `$doc->find(':read-write')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="text" readonly><input type="text">');
$readWrite = $doc->find('input:read-write');
echo count($readWrite); // è¾“å‡º: 1
```


---

## CSS è¡¨å•å…ƒç´ ä¼ªç±»

### 1. æ–‡æœ¬è¾“å…¥ `:text`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:text` | è¡¨å•å…ƒç´  | åŒ¹é…æ–‡æœ¬è¾“å…¥æ¡† | `$doc->find('input:text')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="text"><input type="password">');
$textInputs = $doc->find('input:text');
echo count($textInputs); // è¾“å‡º: 1
```


---

### 2. å¯†ç è¾“å…¥ `:password`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:password` | è¡¨å•å…ƒç´  | åŒ¹é…å¯†ç è¾“å…¥æ¡† | `$doc->find('input:password')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="text"><input type="password">');
$passwordInputs = $doc->find('input:password');
echo count($passwordInputs); // è¾“å‡º: 1
```


---

### 3. å•é€‰æŒ‰é’® `:radio`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:radio` | è¡¨å•å…ƒç´  | åŒ¹é…å•é€‰æŒ‰é’® | `$doc->find('input:radio')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="radio"><input type="checkbox">');
$radioInputs = $doc->find('input:radio');
echo count($radioInputs); // è¾“å‡º: 1
```


---

### 4. å¤é€‰æ¡† `:checkbox`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:checkbox` | è¡¨å•å…ƒç´  | åŒ¹é…å¤é€‰æ¡† | `$doc->find('input:checkbox')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="radio"><input type="checkbox">');
$checkboxInputs = $doc->find('input:checkbox');
echo count($checkboxInputs); // è¾“å‡º: 1
```


---

### 5. æäº¤æŒ‰é’® `:submit`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:submit` | è¡¨å•å…ƒç´  | åŒ¹é…æäº¤æŒ‰é’® | `$doc->find('input:submit')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<input type="submit"><input type="button">');
$submitInputs = $doc->find('input:submit');
echo count($submitInputs); // è¾“å‡º: 1
```


---

### 6. æŒ‰é’® `:button`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:button` | è¡¨å•å…ƒç´  | åŒ¹é…æŒ‰é’® | `$doc->find('button, input:button')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<button>ç‚¹å‡»</button><input type="button">');
$buttons = $doc->find(':button');
echo count($buttons); // è¾“å‡º: 2
```


---

## CSS ä½ç½®ä¼ªç±»

### 1. ç¬¬ä¸€ä¸ªå…ƒç´  `:first`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:first` | ä½ç½® | åŒ¹é…ç»“æžœé›†ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´  | `$doc->find('li:first')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li></ul>');
$first = $doc->find('li:first');
echo $first[0]->text(); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- ä¸Ž `:first-child` ä¸åŒï¼Œ`:first` ä½œç”¨äºŽæŸ¥è¯¢ç»“æžœé›†
- é™åˆ¶è¿”å›žç»“æžœä¸ºç¬¬ä¸€ä¸ªå…ƒç´ 


---

### 2. æœ€åŽä¸€ä¸ªå…ƒç´  `:last`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:last` | ä½ç½® | åŒ¹é…ç»“æžœé›†ä¸­çš„æœ€åŽä¸€ä¸ªå…ƒç´  | `$doc->find('li:last')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li></ul>');
$last = $doc->find('li:last');
echo $last[0]->text(); // è¾“å‡º: 3
```


---

### 3. å¶æ•°ä½ç½® `:even`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:even` | ä½ç½® | åŒ¹é…ç»“æžœé›†ä¸­å¶æ•°ä½ç½®çš„å…ƒç´ ï¼ˆç´¢å¼• 1, 3, 5...ï¼‰ | `$doc->find('li:even')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>A</li><li>B</li><li>C</li><li>D</li><li>E</li></ul>');
$even = $doc->find('li:even');
echo count($even); // è¾“å‡º: 2ï¼ˆB, Dï¼‰
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åŸºäºŽç»“æžœé›†çš„ç´¢å¼•ï¼ˆä»Ž 0 å¼€å§‹ï¼‰
- `:even` åŒ¹é…ç´¢å¼• 1, 3, 5...ï¼ˆç¬¬ 2ã€4ã€6... ä¸ªå…ƒç´ ï¼‰


---

### 4. å¥‡æ•°ä½ç½® `:odd`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:odd` | ä½ç½® | åŒ¹é…ç»“æžœé›†ä¸­å¥‡æ•°ä½ç½®çš„å…ƒç´ ï¼ˆç´¢å¼• 0, 2, 4...ï¼‰ | `$doc->find('li:odd')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>A</li><li>B</li><li>C</li><li>D</li><li>E</li></ul>');
$odd = $doc->find('li:odd');
echo count($odd); // è¾“å‡º: 3ï¼ˆA, C, Eï¼‰
```

**æ³¨æ„äº‹é¡¹ï¼š**
- åŸºäºŽç»“æžœé›†çš„ç´¢å¼•ï¼ˆä»Ž 0 å¼€å§‹ï¼‰
- `:odd` åŒ¹é…ç´¢å¼• 0, 2, 4...ï¼ˆç¬¬ 1ã€3ã€5... ä¸ªå…ƒç´ ï¼‰


---

### 5. å°äºŽç´¢å¼• `:lt(n)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:lt(n)` | n: ç´¢å¼•å€¼ | åŒ¹é…ç´¢å¼•å°äºŽ n çš„å…ƒç´  | `$doc->find('li:lt(3)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul>');
$lt3 = $doc->find('li:lt(3)');
echo count($lt3); // è¾“å‡º: 3ï¼ˆç´¢å¼• 0, 1, 2ï¼‰
```


---

### 6. å¤§äºŽç´¢å¼• `:gt(n)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:gt(n)` | n: ç´¢å¼•å€¼ | åŒ¹é…ç´¢å¼•å¤§äºŽ n çš„å…ƒç´  | `$doc->find('li:gt(2)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul>');
$gt2 = $doc->find('li:gt(2)');
echo count($gt2); // è¾“å‡º: 2ï¼ˆç´¢å¼• 3, 4ï¼‰
```


---

### 7. ç­‰äºŽç´¢å¼• `:eq(n)`

| ä¼ªç±» | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:eq(n)` | n: ç´¢å¼•å€¼ | åŒ¹é…ç´¢å¼•ç­‰äºŽ n çš„å…ƒç´  | `$doc->find('li:eq(2)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul>');
$eq2 = $doc->find('li:eq(2)');
echo $eq2[0]->text(); // è¾“å‡º: 3
```


---

## CSS å¯è§æ€§ä¼ªç±»

### 1. å¯è§å…ƒç´  `:visible`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:visible` | å¯è§æ€§ | åŒ¹é…å¯è§å…ƒç´  | `$doc->find('div:visible')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>å¯è§</div><div style="display:none">éšè—</div>');
$visible = $doc->find('div:visible');
echo count($visible); // è¾“å‡º: 1
```

**æ³¨æ„äº‹é¡¹ï¼š**
- ä¸åŒ¹é… `display: none` æˆ– `visibility: hidden` çš„å…ƒç´ 
- ä¸åŒ¹é… `hidden` å±žæ€§çš„å…ƒç´ 
- ä¸åŒ¹é… `type="hidden"` çš„è¾“å…¥æ¡†


---

### 2. éšè—å…ƒç´  `:hidden`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:hidden` | å¯è§æ€§ | åŒ¹é…éšè—å…ƒç´  | `$doc->find('div:hidden')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>å¯è§</div><div style="display:none">éšè—</div>');
$hidden = $doc->find('div:hidden');
echo count($hidden); // è¾“å‡º: 1
```


---

## å…¨è·¯å¾„é€‰æ‹©å™¨è¯¦è§£

å…¨è·¯å¾„é€‰æ‹©å™¨æ˜¯ DOM æŸ¥è¯¢ä¸­çš„é«˜çº§æŠ€å·§ï¼Œé€šè¿‡æŒ‡å®šå®Œæ•´çš„å…ƒç´ è·¯å¾„æ¥å®žçŽ°ç²¾ç¡®ã€é«˜æ•ˆçš„å…ƒç´ å®šä½ã€‚

### å…¨è·¯å¾„é€‰æ‹©å™¨çš„ç±»åž‹

**1. XPath ç»å¯¹è·¯å¾„**

ä»¥ `/` å¼€å¤´ï¼Œä»Žæ–‡æ¡£æ ¹å…ƒç´ å¼€å§‹çš„å®Œæ•´è·¯å¾„ï¼š

```php
// åŸºæœ¬è¯­æ³•
/html/body/div[1]/div[2]/p[3]

// å®žé™…ç¤ºä¾‹
$doc = new Document('<html><body><div><div><p>ç¬¬ä¸€æ®µ</p><p>ç¬¬äºŒæ®µ</p><p>ç¬¬ä¸‰æ®µ</p></div></div></body></html>');
$element = $doc->xpath('/html/body/div[1]/div[1]/p[3]');
echo $element[0]->text(); // è¾“å‡º: ç¬¬ä¸‰æ®µ
```

**2. XPath ç›¸å¯¹è·¯å¾„**

ä»¥ `//` å¼€å¤´ï¼Œä»Žæ–‡æ¡£ä»»æ„ä½ç½®å¼€å§‹æœç´¢ï¼š

```php
// åŸºæœ¬è¯­æ³•
//div[@class="container"]/div[@class="content"]/p

// å®žé™…ç¤ºä¾‹
$doc = new Document('<div class="container"><div class="content"><p>å†…å®¹</p></div></div>');
$element = $doc->xpath('//div[@class="container"]/div[@class="content"]/p');
echo $element[0]->text(); // è¾“å‡º: å†…å®¹
```

**3. CSS å…¨è·¯å¾„é€‰æ‹©å™¨**

ä½¿ç”¨ CSS ç»„åˆé€‰æ‹©å™¨æ¨¡æ‹Ÿå…¨è·¯å¾„ï¼š

```php
// åŸºæœ¬è¯­æ³•
div.container > div.content > p.text

// å®žé™…ç¤ºä¾‹
$doc = new Document('<div class="container"><div class="content"><p class="text">å†…å®¹</p></div></div>');
$element = $doc->find('div.container > div.content > p.text');
echo $element[0]->text(); // è¾“å‡º: å†…å®¹
```

**4. æ··åˆè·¯å¾„é€‰æ‹©å™¨**

ç»“åˆ CSS é€‰æ‹©å™¨å’Œ XPath è¯­æ³•çš„ä¼˜åŠ¿ï¼š

```php
// åœ¨ Document ç±»ä¸­ä½¿ç”¨ findByPath æ–¹æ³•
$element = $doc->findByPath('div.content > div.pages-date > span');

// è‡ªåŠ¨è¯†åˆ«è·¯å¾„ç±»åž‹å¹¶è½¬æ¢
$element = $doc->findByPath('/html/body/div[1]/div[2]/span');
$element = $doc->findByPath('//div[@class="item"]/a');
```

### å…¨è·¯å¾„é€‰æ‹©å™¨çš„ä½¿ç”¨åœºæ™¯

**åœºæ™¯1ï¼šæå–å›ºå®šç»“æž„çš„ç½‘é¡µå†…å®¹**

```php
// ç½‘é¡µç»“æž„å›ºå®šï¼Œä½¿ç”¨å…¨è·¯å¾„æå–
$html = file_get_contents('https://example.com');
$doc = new Document($html);

// æå–æ–‡ç« æ ‡é¢˜
$title = $doc->xpath('/html/body/div[1]/div[@class="article"]/h1');
echo $title[0]->text();

// æå–æ–‡ç« å†…å®¹
$content = $doc->xpath('/html/body/div[1]/div[@class="article"]/div[@class="content"]');
echo $content[0]->html();
```

**åœºæ™¯2ï¼šå¤„ç†å¤æ‚çš„è¡¨æ ¼æ•°æ®**

```php
// ä½¿ç”¨å…¨è·¯å¾„ç²¾ç¡®å®šä½è¡¨æ ¼å•å…ƒæ ¼
$cell = $doc->xpath('/html/body/div[3]/div[@class="data-table"]/table[1]/tbody/tr[5]/td[3]');
echo $cell[0]->text();

// ä½¿ç”¨å±žæ€§æ¡ä»¶
$cell = $doc->xpath('//table[@class="data"]/tbody/tr[@data-id="123"]/td[@class="value"]');
echo $cell[0]->text();
```

**åœºæ™¯3ï¼šæå–ç‰¹å®šåŒºåŸŸçš„æ–‡æœ¬èŠ‚ç‚¹**

```php
// èŽ·å–å…ƒç´ çš„ç›´æŽ¥æ–‡æœ¬ï¼ˆä¸åŒ…æ‹¬å­å…ƒç´ ï¼‰
$texts = $doc->xpathTexts('//div[@class="item"]/text()');

// èŽ·å–æ‰€æœ‰æ–‡æœ¬èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬åŽä»£ï¼‰
$texts = $doc->xpathTexts('//div[@class="content"]//text()');

// ä½¿ç”¨å…¨è·¯å¾„
$texts = $doc->xpathTexts('/html/body/div[1]/div[@class="article"]/p[1]/text()');
```

**åœºæ™¯4ï¼šæå–é“¾æŽ¥å’Œå›¾ç‰‡**

```php
// æå–ç‰¹å®šåŒºåŸŸçš„é“¾æŽ¥
$hrefs = $doc->xpathAttrs('//div[@class="nav"]/ul/li/a', 'href');

// ä½¿ç”¨å…¨è·¯å¾„
$hrefs = $doc->xpathAttrs('/html/body/div[1]/div[@class="footer"]/a', 'href');

// æå–ç‰¹å®šåŒºåŸŸçš„å›¾ç‰‡
$srcs = $doc->xpathAttrs('//div[@class="gallery"]/img', 'src');
```

### å…¨è·¯å¾„é€‰æ‹©å™¨ vs ç›¸å¯¹é€‰æ‹©å™¨

| ç‰¹æ€§ | å…¨è·¯å¾„é€‰æ‹©å™¨ | ç›¸å¯¹é€‰æ‹©å™¨ |
|------|------------|-----------|
| **æ€§èƒ½** | âœ… é«˜æ€§èƒ½ï¼Œç›´æŽ¥å®šä½ | âš ï¸ éœ€è¦éåŽ†DOMæ ‘ |
| **ç²¾ç¡®åº¦** | âœ… ç²¾ç¡®å®šä½ï¼Œæ— æ­§ä¹‰ | âš ï¸ å¯èƒ½åŒ¹é…å¤šä¸ªå…ƒç´  |
| **çµæ´»æ€§** | âŒ ç»“æž„å˜åŒ–æ—¶å¤±æ•ˆ | âœ… é€‚åº”ç»“æž„å˜åŒ– |
| **é€‚ç”¨åœºæ™¯** | ç»“æž„ç¨³å®šçš„æ–‡æ¡£ | ç»“æž„å¯å˜çš„æ–‡æ¡£ |
| **å¯è¯»æ€§** | âœ… æ¸…æ™°æ˜Žç¡® | âš ï¸ éœ€è¦ç†è§£æœç´¢é€»è¾‘ |

**é€‰æ‹©å»ºè®®ï¼š**
```php
// åœºæ™¯1ï¼šç½‘é¡µç»“æž„å›ºå®šï¼Œä½¿ç”¨å…¨è·¯å¾„
$element = $doc->xpath('/html/body/div[3]/div[@class="content"]/h1');

// åœºæ™¯2ï¼šç½‘é¡µç»“æž„å¤šå˜ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„
$element = $doc->xpath('//h1[@class="main-title"]');

// åœºæ™¯3ï¼šåœ¨å·²çŸ¥åŒºåŸŸå†…æœç´¢
$container = $doc->first('div.content');
$element = $doc->find('h1', Query::TYPE_CSS, $container->getNode());

// åœºæ™¯4ï¼šæ··åˆä½¿ç”¨
$container = $doc->xpathFirst('//div[@class="main-container"]');
if ($container) {
    $element = $doc->findFirstByAttribute('data-id', '123', '.item');
}
```

### å…¨è·¯å¾„é€‰æ‹©å™¨çš„æœ€ä½³å®žè·µ

**1. ä½¿ç”¨å±žæ€§è€Œéžç´¢å¼•**

```php
// âœ… æŽ¨èï¼šä½¿ç”¨å±žæ€§æ›´ç¨³å®š
$element = $doc->xpath('//div[@class="container"]/div[@class="item"][1]');

// âš ï¸ å¯ç”¨ï¼šä½¿ç”¨ç´¢å¼•ä½†ä¸å¤Ÿç¨³å®š
$element = $doc->xpath('/html/body/div[3]/div[1]/div[2]/div[1]');
```

**2. ç»„åˆä½¿ç”¨è·¯å¾„å’Œæ¡ä»¶**

```php
// âœ… æŽ¨èï¼šè·¯å¾„ + å±žæ€§æ¡ä»¶
$element = $doc->xpath('//div[@class="container"]/div[contains(@class, "item") and @data-active="true"]');
```

**3. ä½¿ç”¨ä¾¿æ·æ–¹æ³•ç®€åŒ–æ“ä½œ**

```php
// èŽ·å–å•ä¸ªå…ƒç´ 
$element = $doc->xpathFirst('//div[@class="container"]/p[1]');

// èŽ·å–æ–‡æœ¬æ•°ç»„
$texts = $doc->xpathTexts('//div[@class="item"]/text()');

// èŽ·å–å±žæ€§æ•°ç»„
$hrefs = $doc->xpathAttrs('//div[@class="nav"]//a', 'href');
```

**4. åœ¨å¤æ‚æ–‡æ¡£ä¸­ä½¿ç”¨ findByPath**

```php
// è‡ªåŠ¨è¯†åˆ«è·¯å¾„ç±»åž‹
$element = $doc->findByPath('/html/body/div[1]/div[2]/span');  // XPath
$element = $doc->findByPath('div.content > div.item > a');      // CSS

// å¤„ç†è§£æžå¤±è´¥çš„æƒ…å†µ
try {
    $elements = $doc->findByPath('complex/path/expression');
} catch (Exception $e) {
    // å›žé€€åˆ°å…¶ä»–æ–¹æ³•
    $elements = $doc->find('div.complex .path .expression');
}
```

### æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹

```php
// å‡è®¾æ–‡æ¡£ç»“æž„ï¼š
// <html><body><div><div><div><div><div class="target">ç›®æ ‡</div></div></div></div></div></body></html>

// æ–¹å¼1ï¼šå…¨XPathè·¯å¾„ï¼ˆæœ€å¿«ï¼‰
$start = microtime(true);
$element = $doc->xpath('/html/body/div[1]/div[1]/div[1]/div[1]/div[@class="target"]');
$time1 = microtime(true) - $start;

// æ–¹å¼2ï¼šXPathç›¸å¯¹è·¯å¾„ï¼ˆè¾ƒå¿«ï¼‰
$start = microtime(true);
$element = $doc->xpath('//div[@class="target"]');
$time2 = microtime(true) - $start;

// æ–¹å¼3ï¼šCSSé€‰æ‹©å™¨ï¼ˆæœ€æ…¢ï¼‰
$start = microtime(true);
$element = $doc->find('div.target');
$time3 = microtime(true) - $start;

// ç»“æžœï¼štime1 < time2 < time3
```

**ç»“è®ºï¼š**
- å¯¹äºŽæ·±å±‚åµŒå¥—ä¸”ç»“æž„ç¨³å®šçš„æ–‡æ¡£ï¼Œå…¨è·¯å¾„é€‰æ‹©å™¨æ€§èƒ½æœ€ä¼˜
- å¯¹äºŽéœ€è¦çµæ´»åŒ¹é…çš„åœºæ™¯ï¼Œç›¸å¯¹è·¯å¾„æ›´åˆé€‚
- åœ¨æ€§èƒ½å…³é”®çš„åœºæ™¯ä¸­ï¼Œä¼˜å…ˆä½¿ç”¨å…¨è·¯å¾„é€‰æ‹©å™¨


---

## CSS ä¼ªå…ƒç´ 

### 1. æ–‡æœ¬å†…å®¹ `::text`

| ä¼ªå…ƒç´  | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|--------|------|------|----------|
| `::text` | ä¼ªå…ƒç´  | èŽ·å–å…ƒç´ çš„æ–‡æœ¬å†…å®¹ | `$doc->text('div::text')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div>Hello <span>World</span></div>');
$text = $doc->text('div::text');
echo $text; // è¾“å‡º: Hello World
```

**æ³¨æ„äº‹é¡¹ï¼š**
- è¿”å›žå…ƒç´ åŠå…¶æ‰€æœ‰å­å…ƒç´ çš„æ–‡æœ¬å†…å®¹
- å¯ä»¥ä¸Ž `find()` æˆ– `text()` æ–¹æ³•ä¸€èµ·ä½¿ç”¨
- ä¸Ž `text()` æ–¹æ³•é…åˆä½¿ç”¨æ—¶ï¼Œç›´æŽ¥è¿”å›žæ–‡æœ¬å­—ç¬¦ä¸²


---

### 2. å±žæ€§å€¼ `::attr(name)`

| ä¼ªå…ƒç´  | å‚æ•° | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|--------|------|------|----------|
| `::attr(name)` | name: å±žæ€§å | èŽ·å–å…ƒç´ çš„å±žæ€§å€¼ | `$doc->text('a::attr(href)')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<a href="https://example.com" data-id="123">é“¾æŽ¥</a>');
$href = $doc->text('a::attr(href)');
$dataId = $doc->text('a::attr(data-id)');
echo $href; // è¾“å‡º: https://example.com
echo $dataId; // è¾“å‡º: 123
```

**æ³¨æ„äº‹é¡¹ï¼š**
- å¯ä»¥èŽ·å–ä»»ä½•å±žæ€§çš„å€¼
- å±žæ€§åéœ€è¦ç”¨å¼•å·åŒ…è£¹
- è¿”å›žå±žæ€§çš„å­—ç¬¦ä¸²å€¼


---

## XPath é€‰æ‹©å™¨

XPath æ˜¯ä¸€ç§å¼ºå¤§çš„æŸ¥è¯¢è¯­è¨€ï¼Œå¯ä»¥ç²¾ç¡®åœ°å®šä½ XML/HTML æ–‡æ¡£ä¸­çš„å…ƒç´ ã€‚æœ¬åº“å®Œå…¨æ”¯æŒ XPath 1.0 è§„èŒƒï¼Œå¹¶æä¾›å…¨è·¯å¾„é€‰æ‹©èƒ½åŠ›ã€‚

### åŸºæœ¬è¯­æ³•

| è¯­æ³• | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `//tag` | åŒ¹é…æ‰€æœ‰æŒ‡å®šæ ‡ç­¾çš„å…ƒç´  | `//div` |
| `/tag` | åŒ¹é…æ ¹å…ƒç´  | `/html` |
| `tag1/tag2` | åŒ¹é… tag1 ä¸‹çš„ tag2ï¼ˆç›´æŽ¥å­å…ƒç´ ï¼‰ | `html/body/div` |
| `tag1//tag2` | åŒ¹é… tag1 ä¸‹çš„æ‰€æœ‰ tag2ï¼ˆåŽä»£å…ƒç´ ï¼‰ | `html//div` |
| `@attr` | åŒ¹é…å±žæ€§ | `//div[@class="item"]` |
| `[n]` | åŒ¹é…ç¬¬ n ä¸ªå…ƒç´  | `(//div)[1]` |
| `[last()]` | åŒ¹é…æœ€åŽä¸€ä¸ªå…ƒç´  | `(//div)[last()]` |

### å…¨è·¯å¾„é€‰æ‹©å™¨

å…¨è·¯å¾„é€‰æ‹©å™¨ä½¿ç”¨å®Œæ•´çš„ DOM æ ‘è·¯å¾„æ¥ç²¾ç¡®å®šä½å…ƒç´ ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

**1. ç»å¯¹è·¯å¾„ï¼ˆä»Žæ ¹å…ƒç´ å¼€å§‹ï¼‰**
```
/html/body/div[3]/div[1]/div/div[1]/span
```
- ä»¥ `/` å¼€å¤´ï¼Œä»Žæ–‡æ¡£æ ¹å…ƒç´ ï¼ˆhtmlï¼‰å¼€å§‹
- ç²¾ç¡®æŒ‡å®šæ¯ä¸€å±‚çš„æ ‡ç­¾å’Œç´¢å¼•
- é€‚åˆç»“æž„ç¨³å®šçš„æ–‡æ¡£

**2. ç›¸å¯¹è·¯å¾„ï¼ˆä»Žä»»æ„ä½ç½®å¼€å§‹ï¼‰**
```
//div[@class="container"]/div[@class="content"]/p
```
- ä»¥ `//` å¼€å¤´ï¼Œä»Žæ–‡æ¡£ä»»æ„ä½ç½®åŒ¹é…
- ä½¿ç”¨å±žæ€§æ¡ä»¶å®šä½å…ƒç´ 
- æ›´çµæ´»ï¼Œä¸ä¾èµ–å®Œæ•´çš„DOMç»“æž„

**3. æ–‡æœ¬èŠ‚ç‚¹è·¯å¾„**
```
//div[@class="item"]/text()
//body/div[3]/div[1]/div/div[1]/text()
```
- ä½¿ç”¨ `text()` å‡½æ•°èŽ·å–æ–‡æœ¬èŠ‚ç‚¹
- å¯ä»¥æå–å…ƒç´ çš„ç›´æŽ¥æ–‡æœ¬æˆ–æ‰€æœ‰åŽä»£æ–‡æœ¬

### XPath è½´

XPath è½´ç”¨äºŽå®šä¹‰ç›¸å¯¹äºŽå½“å‰èŠ‚ç‚¹çš„èŠ‚ç‚¹é›†ï¼š

| è½´ | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `ancestor` | ç¥–å…ˆå…ƒç´  | `//div/ancestor::*` |
| `ancestor-or-self` | ç¥–å…ˆå…ƒç´ å’Œè‡ªèº« | `//div/ancestor-or-self::*` |
| `child` | å­å…ƒç´  | `//div/child::p` |
| `descendant` | åŽä»£å…ƒç´  | `//div/descendant::p` |
| `following-sibling` | åŽé¢çš„å…„å¼Ÿå…ƒç´  | `//div/following-sibling::p` |
| `preceding-sibling` | å‰é¢çš„å…„å¼Ÿå…ƒç´  | `//div/preceding-sibling::p` |

**è½´é€‰æ‹©å™¨ç¤ºä¾‹ï¼š**
```php
// èŽ·å– div çš„æ‰€æœ‰ç¥–å…ˆå…ƒç´ 
$ancestors = $doc->xpath('//div/ancestor::*');

// èŽ·å–å½“å‰å…ƒç´ ä¹‹åŽçš„æ‰€æœ‰å…„å¼Ÿ
$siblings = $doc->xpath('//div/following-sibling::*');

// èŽ·å– div çš„æ‰€æœ‰åŽä»£ p å…ƒç´ 
$paragraphs = $doc->xpath('//div/descendant::p');
```

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div><p>1</p><p>2</p></div>');
$ps = $doc->xpath('//div//p'); // åŒ¹é…æ‰€æœ‰ div ä¸‹çš„ p
echo count($ps); // è¾“å‡º: 2

$firstP = $doc->xpath('(//div//p)[1]');
echo $firstP[0]->text(); // è¾“å‡º: 1
```


---

### XPath å‡½æ•°

**å­—ç¬¦ä¸²å‡½æ•°**

| å‡½æ•° | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `contains(text, 'str')` | åŒ…å«æ–‡æœ¬ | `//div[contains(text(), "hello")]` |
| `starts-with(text, 'str')` | ä»¥...å¼€å¤´ | `//div[starts-with(@class, "item")]` |
| `ends-with(text, 'str')` | ä»¥...ç»“å°¾ | `//div[ends-with(@id, "-item")]` |
| `substring(text, start, length)` | å­å­—ç¬¦ä¸² | `//div[substring(@title, 1, 3)]` |
| `string-length(text)` | å­—ç¬¦ä¸²é•¿åº¦ | `//div[string-length(text()) > 10]` |
| `concat(str1, str2, ...)` | è¿žæŽ¥å­—ç¬¦ä¸² | `concat(@first, " ", @last)` |
| `translate(text, src, dest)` | å­—ç¬¦è½¬æ¢ | `translate(@text, "abc", "ABC")` |
| `normalize-space(text)` | è§„èŒƒåŒ–ç©ºæ ¼ | `//div[normalize-space(text())]` |

**æ•°å€¼å‡½æ•°**

| å‡½æ•° | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `position()` | å½“å‰ä½ç½® | `//li[position()=1]` |
| `last()` | æœ€åŽä¸€ä¸ª | `//li[last()]` |
| `count(node-set)` | è®¡æ•° | `//ul[count(li) > 2]` |
| `sum(node-set)` | æ±‚å’Œ | `//td[sum(//td[@class="price"]) > 100]` |
| `number(text)` | è½¬æ¢ä¸ºæ•°å­— | `//div[number(@value) > 100]` |
| `floor(num)` | å‘ä¸‹å–æ•´ | `//div[floor(@value) = 10]` |
| `ceiling(num)` | å‘ä¸Šå–æ•´ | `//div[ceiling(@value) = 20]` |
| `round(num)` | å››èˆäº”å…¥ | `//div[round(@value) = 15]` |

**å¸ƒå°”å‡½æ•°**

| å‡½æ•° | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `true()` | çœŸ | `//div[true()]` |
| `false()` | å‡ | `//div[false()]` |
| `not(condition)` | éž | `//div[not(@hidden)]` |
| `and` | ä¸Ž | `//div[@class="a" and @class="b"]` |
| `or` | æˆ– | `//div[@class="a" or @class="b"]` |

**èŠ‚ç‚¹æµ‹è¯•**

| å‡½æ•° | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `text()` | æ–‡æœ¬èŠ‚ç‚¹ | `//div/text()` |
| `comment()` | æ³¨é‡ŠèŠ‚ç‚¹ | `//comment()` |
| `node()` | ä»»æ„èŠ‚ç‚¹ | `//div/node()` |
| `element()` | å…ƒç´ èŠ‚ç‚¹ | `//*[element()]` |
| `processing-instruction()` | å¤„ç†æŒ‡ä»¤ | `//processing-instruction()` |

**XPath ä½¿ç”¨ç¤ºä¾‹ï¼š**

```php
// åŸºæœ¬è·¯å¾„æŸ¥è¯¢
$doc = new Document('<div><p>1</p><p>2</p></div>');
$ps = $doc->xpath('//div//p'); // åŒ¹é…æ‰€æœ‰ div ä¸‹çš„ p
echo count($ps); // è¾“å‡º: 2

$firstP = $doc->xpath('(//div//p)[1]');
echo $firstP[0]->text(); // è¾“å‡º: 1

// ç»å¯¹è·¯å¾„ï¼ˆå…¨è·¯å¾„ï¼‰
$doc = new Document('<html><body><div class="container"><p>å†…å®¹</p></div></body></html>');
$element = $doc->xpath('/html/body/div[@class="container"]/p');
echo $element[0]->text(); // è¾“å‡º: å†…å®¹

// ä½¿ç”¨å‡½æ•°è¿‡æ»¤
$doc = new Document('<div class="item-1">1</div><div class="item-2">2</div>');
$items = $doc->xpath('//div[starts-with(@class, "item")]');
echo count($items); // è¾“å‡º: 2

// ç»„åˆæ¡ä»¶
$doc = new Document('<div class="item" data-id="123">1</div><div class="item" data-id="456">2</div>');
$element = $doc->xpath('//div[@class="item" and @data-id="123"]');
echo $element[0]->text(); // è¾“å‡º: 1

// ä½¿ç”¨æ•°å€¼å‡½æ•°
$doc = new Document('<ul><li>1</li><li>2</li><li>3</li></ul>');
$items = $doc->xpath('//ul[count(li) > 2]/li');
echo count($items); // è¾“å‡º: 3

// ä½¿ç”¨å­—ç¬¦ä¸²å‡½æ•°
$doc = new Document('<div data-length="10">å†…å®¹</div>');
$divs = $doc->xpath('//div[string-length(text()) > 2]');
echo count($divs); // è¾“å‡º: 1
```

### CSS é€‰æ‹©å™¨ vs XPath é€‰æ‹©å™¨

| ç‰¹æ€§ | CSS é€‰æ‹©å™¨ | XPath é€‰æ‹©å™¨ |
|------|-----------|-------------|
| ç®€æ´æ€§ | âœ… æ›´ç®€æ´ç›´è§‚ | âš ï¸ ç›¸å¯¹å¤æ‚ |
| å­¦ä¹ æ›²çº¿ | âœ… å®¹æ˜“ä¸Šæ‰‹ | âš ï¸ éœ€è¦å­¦ä¹  |
| åŠŸèƒ½å¼ºå¤§ | âœ… è¦†ç›–å¤§éƒ¨åˆ†åœºæ™¯ | âœ… åŠŸèƒ½æ›´å¼ºå¤§ |
| æ–‡æœ¬åŒ¹é… | âš ï¸ éœ€è¦ä¼ªç±» | âœ… å†…ç½®å‡½æ•°æ”¯æŒ |
| å±žæ€§åŒ¹é… | âœ… ç®€æ´è¯­æ³• | âœ… æ›´çµæ´» |
| è½´é€‰æ‹© | âŒ ä¸æ”¯æŒ | âœ… å®Œæ•´æ”¯æŒ |
| æ•°å€¼è®¡ç®— | âŒ ä¸æ”¯æŒ | âœ… å†…ç½®å‡½æ•° |
| å…¨è·¯å¾„ | âš ï¸ é€šè¿‡ç»„åˆå™¨ | âœ… åŽŸç”Ÿæ”¯æŒ |

**é€‰æ‹©å»ºè®®ï¼š**
- **ä½¿ç”¨ CSS é€‰æ‹©å™¨**ï¼šæ—¥å¸¸å¼€å‘ã€ç®€å•çš„å…ƒç´ é€‰æ‹©ã€éœ€è¦å¿«é€Ÿç¼–å†™
- **ä½¿ç”¨ XPath é€‰æ‹©å™¨**ï¼šå¤æ‚æŸ¥è¯¢ã€éœ€è¦è½´é€‰æ‹©ã€éœ€è¦æ–‡æœ¬/æ•°å€¼è®¡ç®—ã€ä½¿ç”¨å…¨è·¯å¾„


---

### XPath è½´

| è½´ | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `ancestor` | ç¥–å…ˆå…ƒç´  | `//div/ancestor::*` |
| `ancestor-or-self` | ç¥–å…ˆå…ƒç´ å’Œè‡ªèº« | `//div/ancestor-or-self::*` |
| `child` | å­å…ƒç´  | `//div/child::p` |
| `descendant` | åŽä»£å…ƒç´  | `//div/descendant::p` |
| `following-sibling` | åŽé¢çš„å…„å¼Ÿå…ƒç´  | `//div/following-sibling::p` |
| `preceding-sibling` | å‰é¢çš„å…„å¼Ÿå…ƒç´  | `//div/preceding-sibling::p` |


---

## ç‰¹æ®Šé€‰æ‹©å™¨

### 1. å…¨è·¯å¾„é€‰æ‹©å™¨ï¼ˆCSS + XPath æ··åˆï¼‰

æœ¬åº“æ”¯æŒåœ¨åŒä¸€ä¸ªè¡¨è¾¾å¼ä¸­æ··åˆä½¿ç”¨ CSS é€‰æ‹©å™¨å’Œ XPath è¯­æ³•ï¼Œæä¾›æœ€å¤§åŒ–çš„çµæ´»æ€§ã€‚

**ä½¿ç”¨æ–¹å¼ï¼š**
```php
// çº¯ CSS é€‰æ‹©å™¨
$elements = $doc->find('div.container > div.content > p');

// çº¯ XPath é€‰æ‹©å™¨
$elements = $doc->xpath('//div[@class="container"]/div[@class="content"]/p');

// æ··åˆä½¿ç”¨ï¼ˆè‡ªåŠ¨è¯†åˆ«ï¼‰
$elements = $doc->find('div[@class="container"]/div.content > p');
$elements = $doc->xpath('/html/body/div[3]/div[@class="item"]/a');

// ä½¿ç”¨ findByPath æ–¹æ³•
$elements = $doc->findByPath('/html/body/div[1]/div[2]/span');
$elements = $doc->findByPath('div.content > div.pages-date > span');
```

**å…¨è·¯å¾„é€‰æ‹©å™¨çš„ä¼˜åŠ¿ï¼š**

1. **ç²¾ç¡®å®šä½**
   ```php
   // ç›´æŽ¥å®šä½åˆ°ç‰¹å®šä½ç½®
   $element = $doc->xpath('/html/body/div[3]/div[1]/div/div[1]/span');
   ```

2. **å‡å°‘æœç´¢èŒƒå›´**
   ```php
   // æ¯”æ¨¡ç³Šæœç´¢æ›´é«˜æ•ˆ
   $elements = $doc->xpath('//div[@id="content"]/div[@class="article"]/p');
   ```

3. **å¤æ‚æ¡ä»¶ç»„åˆ**
   ```php
   // å¤šæ¡ä»¶è¿‡æ»¤
   $elements = $doc->xpath('//div[contains(@class, "item") and @data-id > 100 and position() < 5]');
   ```

4. **æ–‡æœ¬å’Œå±žæ€§æå–**
   ```php
   // ç›´æŽ¥æå–æ–‡æœ¬
   $texts = $doc->xpathTexts('//div[@class="content"]/p/text()');

   // æå–å±žæ€§
   $hrefs = $doc->xpathAttrs('//a[contains(@class, "link")]', 'href');
   ```

### 2. æ ¹å…ƒç´  `:root`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:root` | æ–‡æ¡£ | åŒ¹é…æ–‡æ¡£æ ¹å…ƒç´  | `$doc->find(':root')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<html><body><div>å†…å®¹</div></body></html>');
$root = $doc->find(':root');
echo $root[0]->tagName(); // è¾“å‡º: html
```


---

### 2. ç›®æ ‡å…ƒç´  `:target`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:target` | æ–‡æ¡£ | åŒ¹é… URL å“ˆå¸ŒæŒ‡å‘çš„å…ƒç´  | `$doc->find(':target')` |

**ç¤ºä¾‹ï¼š**
```php
$doc = new Document('<div id="section1">ç¬¬ä¸€èŠ‚</div>');
$target = $doc->find(':target');
echo count($target); // è¾“å‡º: 1
```


---

### 3. ç„¦ç‚¹å…ƒç´  `:focus`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:focus` | ç”¨æˆ·äº¤äº’ | åŒ¹é…èŽ·å¾—ç„¦ç‚¹çš„å…ƒç´  | `$doc->find(':focus')` |

**æ³¨æ„äº‹é¡¹ï¼š**
- è¿™ä¸ªä¼ªç±»ä¸»è¦ç”¨äºŽ CSSï¼Œåœ¨ DOM è§£æžä¸­å¯èƒ½æ— æ³•å‡†ç¡®åˆ¤æ–­


---

### 4. æ‚¬åœå…ƒç´  `:hover`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:hover` | ç”¨æˆ·äº¤äº’ | åŒ¹é…é¼ æ ‡æ‚¬åœçš„å…ƒç´  | `$doc->find(':hover')` |

**æ³¨æ„äº‹é¡¹ï¼š**
- è¿™ä¸ªä¼ªç±»ä¸»è¦ç”¨äºŽ CSSï¼Œåœ¨ DOM è§£æžä¸­å¯èƒ½æ— æ³•å‡†ç¡®åˆ¤æ–­


---

### 5. æ¿€æ´»å…ƒç´  `:active`

| ä¼ªç±» | ç±»åž‹ | è¯´æ˜Ž | ä½¿ç”¨ç¤ºä¾‹ |
|------|------|------|----------|
| `:active` | ç”¨æˆ·äº¤äº’ | åŒ¹é…è¢«æ¿€æ´»çš„å…ƒç´  | `$doc->find(':active')` |

**æ³¨æ„äº‹é¡¹ï¼š**
- è¿™ä¸ªä¼ªç±»ä¸»è¦ç”¨äºŽ CSSï¼Œåœ¨ DOM è§£æžä¸­å¯èƒ½æ— æ³•å‡†ç¡®åˆ¤æ–­


---

## é€‰æ‹©å™¨ç»„åˆæŠ€å·§

### 1. å…¨è·¯å¾„ç»„åˆé€‰æ‹©

**åœºæ™¯ï¼šéœ€è¦ç²¾ç¡®å®šä½æ·±å±‚åµŒå¥—çš„å…ƒç´ **

```php
// æ–¹å¼1ï¼šä½¿ç”¨å…¨XPathè·¯å¾„
$element = $doc->xpath('/html/body/div[3]/div[1]/div/div[1]/span[@class="title"]');

// æ–¹å¼2ï¼šä½¿ç”¨ CSS ç»„åˆé€‰æ‹©å™¨
$element = $doc->find('div.container > div.content > div.item > span.title');

// æ–¹å¼3ï¼šä½¿ç”¨ findByPath æ–¹æ³•
$element = $doc->findByPath('div.container > div.content > div.item > span.title');

// æ–¹å¼4ï¼šæ··åˆä½¿ç”¨å±žæ€§å’Œæ ‡ç­¾
$element = $doc->xpath('//div[@class="container"]/div[@class="content"]/span[@class="title"]');
```

**é€‰æ‹©å»ºè®®ï¼š**
- ç®€å•åœºæ™¯ï¼šä½¿ç”¨ CSS é€‰æ‹©å™¨ï¼ˆæ›´æ˜“è¯»ï¼‰
- å¤æ‚æ¡ä»¶ï¼šä½¿ç”¨ XPathï¼ˆæ›´å¼ºå¤§ï¼‰
- éœ€è¦ç²¾ç¡®å®šä½ï¼šä½¿ç”¨å…¨è·¯å¾„ï¼ˆæ›´é«˜æ•ˆï¼‰
- ä¸ç¡®å®šç»“æž„ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆæ›´çµæ´»ï¼‰

### 2. åµŒå¥—é€‰æ‹©å™¨

```php
$doc = new Document('<div class="container"><div class="item"><span>æ–‡æœ¬</span></div></div>');
$span = $doc->find('.container .item span');
echo $span[0]->text(); // è¾“å‡º: æ–‡æœ¬
```

### 2. å¤šæ¡ä»¶é€‰æ‹©å™¨

```php
$doc = new Document('<div class="item active" data-id="123">å†…å®¹</div>');
$element = $doc->find('div.item.active[data-id="123"]');
echo count($element); // è¾“å‡º: 1
```

### 3. ä½¿ç”¨ä¼ªç±»è¿‡æ»¤

```php
$doc = new Document('<ul><li class="active">1</li><li>2</li><li class="active">3</li></ul>');
$activeLis = $doc->find('li.active:not(:last-child)');
echo count($activeLis); // è¾“å‡º: 1ï¼ˆä¸åŒ…æ‹¬æœ€åŽä¸€ä¸ªï¼‰
```


---

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ä½¿ç”¨æ›´å…·ä½“çš„é€‰æ‹©å™¨

é€‰æ‹©è¶Šå…·ä½“ï¼ŒæŸ¥è¯¢è¶Šé«˜æ•ˆï¼š

```php
// âœ… æŽ¨èï¼šä½¿ç”¨ç±»åå’Œæ ‡ç­¾ç»„åˆ
$elements = $doc->find('div.container > p.highlight');

// âŒ é¿å…ï¼šè¿‡äºŽå®½æ³›
$elements = $doc->find('div p');
```

### 2. ä½¿ç”¨å…¨è·¯å¾„é€‰æ‹©å™¨

å¯¹äºŽç»“æž„ç¨³å®šçš„æ–‡æ¡£ï¼Œå…¨è·¯å¾„é€‰æ‹©å™¨æ€§èƒ½æœ€ä¼˜ï¼š

```php
// âœ… æŽ¨èï¼šä½¿ç”¨å®Œæ•´è·¯å¾„ç›´æŽ¥å®šä½
$element = $doc->xpath('/html/body/div[3]/div[1]/div/div[1]/span');

// âš ï¸ ä¸­ç­‰ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„
$element = $doc->xpath('//div[@class="container"]/div[@class="content"]/span');

// âŒ é¿å…ï¼šè¿‡äºŽæ¨¡ç³Šçš„æœç´¢
$element = $doc->find('div span');
```

### 3. é¿å…è¿‡åº¦ä½¿ç”¨é€šé…ç¬¦

é€šé…ç¬¦ä¼šåŒ¹é…å¤§é‡å…ƒç´ ï¼Œé™ä½Žæ€§èƒ½ï¼š

```php
// âœ… æŽ¨èï¼šæŒ‡å®šå…·ä½“æ ‡ç­¾
$elements = $doc->find('div.item');

// âŒ é¿å…ï¼šä½¿ç”¨é€šé…ç¬¦
$elements = $doc->find('.container *');
```

### 4. ä½¿ç”¨ ID é€‰æ‹©å™¨

ID é€‰æ‹©å™¨æ€§èƒ½æœ€å¥½ï¼ˆåœ¨ HTML ä¸­å”¯ä¸€ï¼‰ï¼š

```php
// âœ… æŽ¨èï¼šä½¿ç”¨ ID
$element = $doc->find('#main-content');

// âŒ é¿å…ï¼šä½¿ç”¨å±žæ€§é€‰æ‹©å™¨
$element = $doc->find('div[class="main-content"]');
```

### 5. åˆ©ç”¨é€‰æ‹©å™¨ç¼–è¯‘ç¼“å­˜

```php
// Query ç±»ä¼šè‡ªåŠ¨ç¼“å­˜ç¼–è¯‘ç»“æžœ
// ç¬¬ä¸€æ¬¡è°ƒç”¨ä¼šç¼–è¯‘å¹¶ç¼“å­˜
$elements1 = $doc->find('div.container > .item');

// ç¬¬äºŒæ¬¡è°ƒç”¨ç›´æŽ¥ä½¿ç”¨ç¼“å­˜
$elements2 = $doc->find('div.container > .item');

// æ‰‹åŠ¨ç®¡ç†ç¼“å­˜
Query::clearCompiled(); // æ¸…ç©ºç¼“å­˜
$compiled = Query::getCompiled(); // èŽ·å–ç¼“å­˜
```

### 6. ä¼˜å…ˆä½¿ç”¨ XPath å‡½æ•°è€Œéž CSS ä¼ªç±»

å¯¹äºŽå¤æ‚æ¡ä»¶ï¼ŒXPath å‡½æ•°æ›´é«˜æ•ˆï¼š

```php
// âœ… æŽ¨èï¼šä½¿ç”¨ XPath å‡½æ•°
$elements = $doc->xpath('//div[contains(@class, "item") and @data-id > 100]');

// âš ï¸ å¯ç”¨ï¼šä½¿ç”¨ CSS ä¼ªç±»ï¼ˆæ€§èƒ½ç¨å·®ï¼‰
$elements = $doc->find('div.item[data-id]');
// ç„¶åŽåœ¨ PHP ä¸­è¿‡æ»¤
$filtered = array_filter($elements, fn($el) => $el->getAttribute('data-id') > 100);
```

### 7. å‡å°‘åµŒå¥—å±‚çº§

```php
// âœ… æŽ¨èï¼šç›´æŽ¥å®šä½
$element = $doc->find('div.target-item');

// âŒ é¿å…ï¼šè¿‡åº¦åµŒå¥—
$element = $doc->find('body > div.container > div.content > div.main > div.target-item');
```

### 8. ä½¿ç”¨ä¸Šä¸‹æ–‡èŠ‚ç‚¹

åœ¨å·²çŸ¥åŒºåŸŸå†…æœç´¢ï¼Œå‡å°‘æœç´¢èŒƒå›´ï¼š

```php
// âœ… æŽ¨èï¼šåœ¨æŒ‡å®šä¸Šä¸‹æ–‡ä¸­æœç´¢
$container = $doc->first('div.container');
$elements = $doc->find('.item', Query::TYPE_CSS, $container->getNode());

// âŒ é¿å…ï¼šåœ¨æ•´ä¸ªæ–‡æ¡£ä¸­æœç´¢
$elements = $doc->find('div.container .item');
```


---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆ `:nth-child(1)` å’Œ `:first` ä¸åŒï¼Ÿ

**A:** `:nth-child(1)` æ˜¯åŸºäºŽçˆ¶å…ƒç´ çš„å­å…ƒç´ ä½ç½®ï¼Œè€Œ `:first` æ˜¯åŸºäºŽæŸ¥è¯¢ç»“æžœé›†ã€‚

### Q2: `:contains` å’Œ `:contains-text` æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A:** `:contains` æœç´¢æ‰€æœ‰å­å…ƒç´ çš„æ–‡æœ¬ï¼Œè€Œ `:contains-text` åªæœç´¢å…ƒç´ çš„ç›´æŽ¥æ–‡æœ¬å†…å®¹ã€‚

### Q3: XPath å’Œ CSS é€‰æ‹©å™¨å“ªä¸ªæ›´å¥½ï¼Ÿ

**A:** æ ¹æ®åœºæ™¯é€‰æ‹©ï¼š
- **CSS é€‰æ‹©å™¨**ï¼šæ›´ç®€æ´æ˜“è¯»ï¼Œé€‚åˆå¤§å¤šæ•°æ—¥å¸¸åœºæ™¯
- **XPath é€‰æ‹©å™¨**ï¼šåŠŸèƒ½æ›´å¼ºå¤§ï¼Œé€‚åˆå¤æ‚æŸ¥è¯¢ã€æ–‡æœ¬å¤„ç†ã€æ•°å€¼è®¡ç®—ç­‰éœ€æ±‚
- **å…¨è·¯å¾„é€‰æ‹©å™¨**ï¼šåœ¨éœ€è¦ç²¾ç¡®å®šä½æ—¶ï¼Œä½¿ç”¨å®Œæ•´è·¯å¾„å¯ä»¥æé«˜æ€§èƒ½

**ç¤ºä¾‹å¯¹æ¯”ï¼š**
```php
// CSS é€‰æ‹©å™¨ï¼ˆç®€æ´ï¼‰
$elements = $doc->find('div.container > div.item.active');

// XPath é€‰æ‹©å™¨ï¼ˆå¼ºå¤§ï¼‰
$elements = $doc->xpath('//div[contains(@class, "container")]/div[contains(@class, "item") and contains(@class, "active")]');

// å…¨è·¯å¾„ï¼ˆç²¾ç¡®ï¼‰
$elements = $doc->xpath('/html/body/div[1]/div[3]/div[@class="item"][@class="active"]');
```

### Q4: å¦‚ä½•å¤„ç†ç‰¹æ®Šå­—ç¬¦ï¼Ÿ

**A:** ä½¿ç”¨è½¬ä¹‰æˆ–å¼•å·åŒ…è£¹ï¼š
```php
$doc->find('div[data-value="with\\"quote"]');
```


---

## æ€»ç»“

zxf/utils Dom æ”¯æŒä»¥ä¸‹é€‰æ‹©å™¨ï¼ˆ150+ ç§ï¼‰ï¼š

### CSS é€‰æ‹©å™¨ç³»åˆ—ï¼ˆ130+ ç§ï¼‰

- **CSS åŸºç¡€é€‰æ‹©å™¨**: 9 ç§ï¼ˆé€šé…ç¬¦ã€æ ‡ç­¾ã€ç±»ã€IDã€å¤šé€‰ã€åŽä»£ã€å­ä»£ã€ç›¸é‚»å…„å¼Ÿã€é€šç”¨å…„å¼Ÿï¼‰
- **CSS å±žæ€§é€‰æ‹©å™¨**: 8 ç§ï¼ˆå­˜åœ¨ã€ç­‰äºŽã€ä¸ç­‰äºŽã€åŒ…å«å•è¯ã€ç­‰äºŽæˆ–å‰ç¼€ã€ä»¥...å¼€å¤´ã€ä»¥...ç»“å°¾ã€åŒ…å«ï¼‰
- **CSS ç»„åˆé€‰æ‹©å™¨**: 5 ç§ï¼ˆå·²åŒ…å«åœ¨åŸºç¡€é€‰æ‹©å™¨ä¸­ï¼‰
- **CSS ç»“æž„ä¼ªç±»**: 10 ç§ï¼ˆfirst/last/only/nth-child, first/last/only/nth-of-typeï¼‰
- **CSS å†…å®¹ä¼ªç±»**: 9 ç§ï¼ˆempty, contains, contains-text, starts-with, ends-with, has, not, blank, parent-only-textï¼‰
- **CSS è¡¨å•ä¼ªç±»**: 8 ç§ï¼ˆenabled, disabled, checked, selected, required, optional, read-only, read-writeï¼‰
- **CSS è¡¨å•å…ƒç´ ç±»åž‹**: 24 ç§ï¼ˆtext, password, checkbox, radio, file, email, url, number, tel, search, date, time, datetime, datetime-local, month, week, color, range, submit, reset, image, button, inputï¼‰
- **CSS HTMLå…ƒç´ ä¼ªç±»**: 19 ç§ï¼ˆheader, input, button, link, visited, image, video, audio, canvas, svg, script, style, meta, link, base, head, body, title, tableï¼‰
- **HTML5 ç»“æž„å…ƒç´ ä¼ªç±»**: 24 ç§ï¼ˆtr, td, th, thead, tbody, tfoot, ul, ol, li, dl, dt, dd, form, label, fieldset, legend, section, article, aside, nav, main, footer, figure, figcaption, details, summary, dialog, menuï¼‰
- **CSS ä½ç½®ä¼ªç±»**: 10 ç§ï¼ˆfirst, last, even, odd, eq, gt, lt, between, slice, parentï¼‰
- **CSS å¯è§æ€§ä¼ªç±»**: 2 ç§ï¼ˆvisible, hiddenï¼‰
- **CSS çŠ¶æ€ä¼ªç±»**: 8 ç§ï¼ˆroot, target, focus, focus-within, focus-visible, hover, active, target-withinï¼‰
- **CSS é“¾æŽ¥çŠ¶æ€ä¼ªç±»**: 4 ç§ï¼ˆany-link, link, local-link, visitedï¼‰
- **CSS è¯­è¨€å’Œæ–¹å‘ä¼ªç±»**: 4 ç§ï¼ˆlang, dir-ltr, dir-rtl, dir-autoï¼‰
- **CSS æ·±åº¦ä¼ªç±»**: 6 ç§ï¼ˆdepth-0/1/2/3/4/5, depth-betweenï¼‰
- **CSS æ–‡æœ¬ç›¸å…³ä¼ªç±»**: 8 ç§ï¼ˆtext-node, comment-node, cdata, whitespace, non-whitespace, text-length-gt/lt/eq/betweenï¼‰
- **CSS å­å…ƒç´ æ•°é‡ä¼ªç±»**: 3 ç§ï¼ˆchildren-gt/lt/eqï¼‰
- **CSS å±žæ€§åŒ¹é…æ‰©å±•ä¼ªç±»**: 3 ç§ï¼ˆhas-attr, data, attr-matchï¼‰
- **CSS å±žæ€§å€¼é•¿åº¦ä¼ªç±»**: 3 ç§ï¼ˆattr-length-gt/lt/eqï¼‰
- **CSS å±žæ€§æ•°é‡ä¼ªç±»**: 3 ç§ï¼ˆattr-count-gt/lt/eqï¼‰
- **CSS è¡¨å•éªŒè¯ä¼ªç±»**: 9 ç§ï¼ˆin-range, out-of-range, indeterminate, placeholder-shown, default, valid, invalid, user-invalid, user-valid, autofillï¼‰

### XPath é€‰æ‹©å™¨ï¼ˆå®Œæ•´ XPath 1.0 æ”¯æŒï¼‰

- **è·¯å¾„è¡¨è¾¾å¼**: ç»å¯¹è·¯å¾„ï¼ˆ/ï¼‰ã€ç›¸å¯¹è·¯å¾„ï¼ˆ//ï¼‰ã€çˆ¶èŠ‚ç‚¹ï¼ˆ..ï¼‰
- **XPath è½´**: ancestor, ancestor-or-self, child, descendant, following-sibling, preceding-sibling
- **XPath å‡½æ•°**:
  - å­—ç¬¦ä¸²å‡½æ•°ï¼šcontains, starts-with, ends-with, substring, string-length, concat, translate, normalize-space
  - æ•°å€¼å‡½æ•°ï¼šposition, last, count, sum, number, floor, ceiling, round
  - å¸ƒå°”å‡½æ•°ï¼štrue, false, not, and, or
- **èŠ‚ç‚¹æµ‹è¯•**: node(), text(), comment(), element(), processing-instruction()

### å…¨è·¯å¾„é€‰æ‹©å™¨

- **XPath ç»å¯¹è·¯å¾„**: /html/body/div[1]/div[2]/p[3]
- **XPath ç›¸å¯¹è·¯å¾„**: //div[@class="container"]/div[@class="content"]/p
- **CSS å…¨è·¯å¾„**: div.container > div.content > p.text
- **æ··åˆè·¯å¾„**: è‡ªåŠ¨è¯†åˆ«å’Œè½¬æ¢ CSS/XPath è·¯å¾„

### æ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©å™¨

- **æ–‡æœ¬åŒ¹é…**: åŒ¹é…å…ƒç´ çš„æ–‡æœ¬å†…å®¹
- **å±žæ€§åŒ¹é…**: åŒ¹é…å…ƒç´ çš„å±žæ€§å€¼
- **å¤æ‚æ¨¡å¼**: æ”¯æŒæ‰€æœ‰ PCRE æ­£åˆ™è¡¨è¾¾å¼

### ä¼ªå…ƒç´ ï¼ˆ2 ç§ï¼‰

- **::text**: èŽ·å–å…ƒç´ çš„æ–‡æœ¬å†…å®¹
- **::attr(name)**: èŽ·å–å…ƒç´ çš„å±žæ€§å€¼

### ä¾¿æ·æ–¹æ³•

- **XPath æ–¹æ³•**: xpath(), xpathFirst(), xpathTexts(), xpathAttrs()
- **æ­£åˆ™æ–¹æ³•**: regex(), regexFind(), regexFirst()
- **æŸ¥æ‰¾æ–¹æ³•**: findByPath(), findByText(), findByAttribute(), findByIndex(), findLast(), findRange()
- **æ–‡æœ¬æ–¹æ³•**: directText(), allTextNodes()

### æ ¸å¿ƒç‰¹æ€§

1. **å…¨è·¯å¾„é€‰æ‹©å™¨æ”¯æŒ**: æ”¯æŒ CSS å’Œ XPath çš„å…¨è·¯å¾„è¯­æ³•ï¼Œå®žçŽ°ç²¾ç¡®å®šä½
2. **XPath 1.0 å®Œæ•´æ”¯æŒ**: åŒ…æ‹¬æ‰€æœ‰æ ‡å‡†å‡½æ•°ã€è½´å’ŒèŠ‚ç‚¹æµ‹è¯•
3. **æ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©å™¨**: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ–‡æœ¬å’Œå±žæ€§
4. **é€‰æ‹©å™¨ç¼–è¯‘ç¼“å­˜**: è‡ªåŠ¨ç¼“å­˜ç¼–è¯‘ç»“æžœï¼Œæå‡æ€§èƒ½
5. **æ··åˆè·¯å¾„é€‰æ‹©**: æ”¯æŒ CSS å’Œ XPath çš„æ··åˆä½¿ç”¨
6. **150+ ç§é€‰æ‹©å™¨**: è¦†ç›– CSS3ã€XPath å’Œè‡ªå®šä¹‰é€‰æ‹©å™¨
7. **å¼ºå¤§çš„ä¾¿æ·æ–¹æ³•**: æä¾›å¤šç§ç®€åŒ–çš„æŸ¥è¯¢æŽ¥å£



---

*æ–‡æ¡£ç‰ˆæœ¬: 2.1*
*æœ€åŽæ›´æ–°: 2026-01-15*
*æ”¯æŒçš„é€‰æ‹©å™¨æ•°é‡: 150+*
*æ–°å¢žåŠŸèƒ½: å…¨è·¯å¾„é€‰æ‹©å™¨æ”¯æŒã€XPathå¢žå¼ºã€æ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©å™¨*
